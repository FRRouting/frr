test# test isis topology 1 root rt1 spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
                                         rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
                                         rt3                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
                        -          rt3      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
                                         rt3                  -         rt5(4)
2001:db8::4/128      IP6 internal 30     rt2                  -         rt4(4)
2001:db8::5/128      IP6 internal 30     rt3                  -         rt5(4)
2001:db8::6/128      IP6 internal 40     rt2                  -         rt6(4)
                                         rt3                  -         

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  20      -          rt2      -         
 2001:db8::3/128  20      -          rt3      -         
 2001:db8::4/128  30      -          rt2      -         
 2001:db8::5/128  30      -          rt3      -         
 2001:db8::6/128  40      -          rt2      -         
                          -          rt3      -         

test# test isis topology 2 root rt1 spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt5                  TE-IS        10     rt5                  -         rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
rt1                                                                   
rt6                  TE-IS        20     rt4                  -         rt4(4)
                                         rt5                  -         rt5(4)
10.0.255.4/32        IP TE        20     rt4                  -         rt4(4)
10.0.255.5/32        IP TE        20     rt5                  -         rt5(4)
10.0.255.2/32        IP TE        25     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt3                  -         rt1(4)
10.0.255.6/32        IP TE        30     rt4                  -         rt6(4)
                                         rt5                  -         
10.0.255.3/32        IP TE        40     rt3                  -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  25      -          rt2      -         
 10.0.255.3/32  40      -          rt3      -         
 10.0.255.4/32  20      -          rt4      -         
 10.0.255.5/32  20      -          rt5      -         
 10.0.255.6/32  30      -          rt4      -         
                        -          rt5      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt5                  TE-IS        10     rt5                  -         rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
rt1                                                                   
rt6                  TE-IS        20     rt4                  -         rt4(4)
                                         rt5                  -         rt5(4)
2001:db8::4/128      IP6 internal 20     rt4                  -         rt4(4)
2001:db8::5/128      IP6 internal 20     rt5                  -         rt5(4)
2001:db8::2/128      IP6 internal 25     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt3                  -         rt1(4)
2001:db8::6/128      IP6 internal 30     rt4                  -         rt6(4)
                                         rt5                  -         
2001:db8::3/128      IP6 internal 40     rt3                  -         rt3(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  25      -          rt2      -         
 2001:db8::3/128  40      -          rt3      -         
 2001:db8::4/128  20      -          rt4      -         
 2001:db8::5/128  20      -          rt5      -         
 2001:db8::6/128  30      -          rt4      -         
                          -          rt5      -         

test# test isis topology 3 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt5                  TE-IS        30     rt2                  -         rt4(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        40     rt2                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  40      -          rt2      -         
 10.0.255.6/32  40      -          rt2      -         

test# test isis topology 4 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt8                  TE-IS        40     rt2                  -         rt6(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
 10.0.255.7/32  40      -          rt3      -         
 10.0.255.8/32  50      -          rt2      -         

test# test isis topology 5 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt8                  TE-IS        40     rt2                  -         rt6(4)
                                         rt3                  -         rt7(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)
                                         rt3                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
 10.0.255.7/32  40      -          rt3      -         
 10.0.255.8/32  50      -          rt2      -         
                        -          rt3      -         

test# test isis topology 6 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
                                         rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
                                         rt3                  -         
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
                                         rt3                  -         
rt5                  TE-IS        40     rt2                  -         rt6(4)
                                         rt3                  -         
rt8                  TE-IS        40     rt2                  -         rt6(4)
                                         rt3                  -         
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
                                         rt3                  -         
rt7                  TE-IS        50     rt2                  -         rt5(4)
                                         rt3                  -         rt8(4)
10.0.255.5/32        IP TE        50     rt2                  -         rt5(4)
                                         rt3                  -         
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)
                                         rt3                  -         
10.0.255.7/32        IP TE        60     rt2                  -         rt7(4)
                                         rt3                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
                        -          rt3      -         
 10.0.255.5/32  50      -          rt2      -         
                        -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
                        -          rt3      -         
 10.0.255.7/32  60      -          rt2      -         
                        -          rt3      -         
 10.0.255.8/32  50      -          rt2      -         
                        -          rt3      -         

test# test isis topology 7 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt5                  TE-IS        20     rt4                  -         rt4(4)
rt7                  TE-IS        20     rt4                  -         rt4(4)
10.0.255.4/32        IP TE        20     rt4                  -         rt4(4)
rt2                  TE-IS        30     rt4                  -         rt5(4)
rt6                  TE-IS        30     rt4                  -         rt5(4)
rt8                  TE-IS        30     rt4                  -         rt5(4)
                                                                        rt7(4)
10.0.255.5/32        IP TE        30     rt4                  -         rt5(4)
10.0.255.7/32        IP TE        30     rt4                  -         rt7(4)
rt10                 TE-IS        40     rt4                  -         rt7(4)
rt3                  TE-IS        40     rt4                  -         rt2(4)
                                                                        rt6(4)
rt9                  TE-IS        40     rt4                  -         rt8(4)
rt11                 TE-IS        40     rt4                  -         rt8(4)
10.0.255.2/32        IP TE        40     rt4                  -         rt2(4)
10.0.255.6/32        IP TE        40     rt4                  -         rt6(4)
10.0.255.8/32        IP TE        40     rt4                  -         rt8(4)
rt12                 TE-IS        50     rt4                  -         rt9(4)
                                                                        rt11(4)
10.0.255.10/32       IP TE        50     rt4                  -         rt10(4)
10.0.255.3/32        IP TE        50     rt4                  -         rt3(4)
10.0.255.9/32        IP TE        50     rt4                  -         rt9(4)
10.0.255.11/32       IP TE        50     rt4                  -         rt11(4)
10.0.255.12/32       IP TE        60     rt4                  -         rt12(4)

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.2/32   40      -          rt4      -         
 10.0.255.3/32   50      -          rt4      -         
 10.0.255.4/32   20      -          rt4      -         
 10.0.255.5/32   30      -          rt4      -         
 10.0.255.6/32   40      -          rt4      -         
 10.0.255.7/32   30      -          rt4      -         
 10.0.255.8/32   40      -          rt4      -         
 10.0.255.9/32   50      -          rt4      -         
 10.0.255.10/32  50      -          rt4      -         
 10.0.255.11/32  50      -          rt4      -         
 10.0.255.12/32  60      -          rt4      -         

test# test isis topology 8 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt3                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt2                  -         rt2(4)
rt7                  TE-IS        20     rt4                  -         rt4(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.4/32        IP TE        20     rt4                  -         rt4(4)
rt6                  TE-IS        30     rt2                  -         rt3(4)
                                                                        rt5(4)
rt8                  TE-IS        30     rt2                  -         rt5(4)
rt10                 TE-IS        30     rt4                  -         rt7(4)
10.0.255.3/32        IP TE        30     rt2                  -         rt3(4)
10.0.255.5/32        IP TE        30     rt2                  -         rt5(4)
10.0.255.7/32        IP TE        30     rt4                  -         rt7(4)
rt9                  TE-IS        40     rt2                  -         rt8(4)
rt11                 TE-IS        40     rt2                  -         rt8(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
10.0.255.8/32        IP TE        40     rt2                  -         rt8(4)
10.0.255.10/32       IP TE        40     rt4                  -         rt10(4)
rt12                 TE-IS        50     rt2                  -         rt9(4)
                                                                        rt11(4)
10.0.255.9/32        IP TE        50     rt2                  -         rt9(4)
10.0.255.11/32       IP TE        50     rt2                  -         rt11(4)
10.0.255.12/32       IP TE        60     rt2                  -         rt12(4)

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.2/32   20      -          rt2      -         
 10.0.255.3/32   30      -          rt2      -         
 10.0.255.4/32   20      -          rt4      -         
 10.0.255.5/32   30      -          rt2      -         
 10.0.255.6/32   40      -          rt2      -         
 10.0.255.7/32   30      -          rt4      -         
 10.0.255.8/32   40      -          rt2      -         
 10.0.255.9/32   50      -          rt2      -         
 10.0.255.10/32  40      -          rt4      -         
 10.0.255.11/32  50      -          rt2      -         
 10.0.255.12/32  60      -          rt2      -         

test# test isis topology 9 root rt1 spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt5                  TE-IS        30     rt2                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
rt9                  TE-IS        40     rt2                  -         rt5(4)
10.0.255.5/32        IP TE        40     rt2                  -         rt5(4)
rt6                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
10.0.255.9/32        IP TE        50     rt2                  -         rt9(4)
10.0.255.6/32        IP TE        60     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        60     rt2                  -         rt7(4)
10.0.255.8/32        IP TE        60     rt2                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  40      -          rt2      -         
 10.0.255.6/32  60      -          rt2      -         
 10.0.255.7/32  60      -          rt2      -         
 10.0.255.8/32  60      -          rt2      -         
 10.0.255.9/32  50      -          rt2      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt5                  TE-IS        30     rt2                  -         rt4(4)
2001:db8::4/128      IP6 internal 30     rt2                  -         rt4(4)
rt9                  TE-IS        40     rt2                  -         rt5(4)
2001:db8::5/128      IP6 internal 40     rt2                  -         rt5(4)
rt6                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
2001:db8::9/128      IP6 internal 50     rt2                  -         rt9(4)
2001:db8::6/128      IP6 internal 60     rt2                  -         rt6(4)
2001:db8::7/128      IP6 internal 60     rt2                  -         rt7(4)
2001:db8::8/128      IP6 internal 60     rt2                  -         rt8(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  20      -          rt2      -         
 2001:db8::3/128  20      -          rt3      -         
 2001:db8::4/128  30      -          rt2      -         
 2001:db8::5/128  40      -          rt2      -         
 2001:db8::6/128  60      -          rt2      -         
 2001:db8::7/128  60      -          rt2      -         
 2001:db8::8/128  60      -          rt2      -         
 2001:db8::9/128  50      -          rt2      -         

test# test isis topology 10 root rt1 spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt4                  -         rt1(4)
rt5                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt4                  -         rt4(4)
rt8                  TE-IS        30     rt2                  -         rt5(4)
10.0.255.3/32        IP TE        30     rt3                  -         rt3(4)
10.0.255.4/32        IP TE        30     rt4                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt2                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt3                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt4                  -         rt7(4)
10.0.255.8/32        IP TE        40     rt2                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  30      -          rt3      -         
 10.0.255.4/32  30      -          rt4      -         
 10.0.255.5/32  30      -          rt2      -         
 10.0.255.6/32  40      -          rt3      -         
 10.0.255.7/32  40      -          rt4      -         
 10.0.255.8/32  40      -          rt2      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt4                  -         rt1(4)
rt5                  TE-IS        20     rt2                  -         rt2(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt4                  -         rt4(4)
rt8                  TE-IS        30     rt2                  -         rt5(4)
2001:db8::3/128      IP6 internal 30     rt3                  -         rt3(4)
2001:db8::4/128      IP6 internal 30     rt4                  -         rt4(4)
2001:db8::5/128      IP6 internal 30     rt2                  -         rt5(4)
2001:db8::6/128      IP6 internal 40     rt3                  -         rt6(4)
2001:db8::7/128      IP6 internal 40     rt4                  -         rt7(4)
2001:db8::8/128      IP6 internal 40     rt2                  -         rt8(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  20      -          rt2      -         
 2001:db8::3/128  30      -          rt3      -         
 2001:db8::4/128  30      -          rt4      -         
 2001:db8::5/128  30      -          rt2      -         
 2001:db8::6/128  40      -          rt3      -         
 2001:db8::7/128  40      -          rt4      -         
 2001:db8::8/128  40      -          rt2      -         

test# test isis topology 11 root rt1 spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt2                  pseudo_TE-IS 20     rt3                  -         rt3(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
                                         rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
                                         rt3                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
                        -          rt3      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt2                  pseudo_TE-IS 20     rt3                  -         rt3(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
                                         rt3                  -         rt5(4)
2001:db8::4/128      IP6 internal 30     rt2                  -         rt4(4)
2001:db8::5/128      IP6 internal 30     rt3                  -         rt5(4)
2001:db8::6/128      IP6 internal 40     rt2                  -         rt6(4)
                                         rt3                  -         

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  20      -          rt2      -         
 2001:db8::3/128  20      -          rt3      -         
 2001:db8::4/128  30      -          rt2      -         
 2001:db8::5/128  30      -          rt3      -         
 2001:db8::6/128  40      -          rt2      -         
                          -          rt3      -         

test# test isis topology 12 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt8                  TE-IS        40     rt2                  -         rt6(4)
rt9                  TE-IS        40     rt3                  -         rt7(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
rt10                 TE-IS        50     rt2                  -         rt8(4)
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)
10.0.255.9/32        IP TE        50     rt3                  -         rt9(4)
10.0.255.10/32       IP TE        60     rt2                  -         rt10(4)

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.2/32   20      -          rt2      -         
 10.0.255.3/32   20      -          rt3      -         
 10.0.255.4/32   30      -          rt2      -         
 10.0.255.5/32   30      -          rt3      -         
 10.0.255.6/32   40      -          rt2      -         
 10.0.255.7/32   40      -          rt3      -         
 10.0.255.8/32   50      -          rt2      -         
 10.0.255.9/32   50      -          rt3      -         
 10.0.255.10/32  60      -          rt2      -         

test# test isis topology 13 root rt1 spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
                                         rt3                  -         rt3(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
rt6                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
                                                                        rt6(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
                                         rt3                  -         
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
10.0.255.6/32        IP TE        30     rt3                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
                        -          rt3      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  30      -          rt3      -         
 10.0.255.7/32  40      -          rt3      -         

test# 
test# test isis topology 4 root rt1 reverse-spf ipv4-only
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt8                  TE-IS        40     rt2                  -         rt6(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  20      -          rt2      -         
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.4/32  30      -          rt2      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt2      -         
 10.0.255.7/32  40      -          rt3      -         
 10.0.255.8/32  50      -          rt2      -         

test# test isis topology 11 root rt1 reverse-spf
IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10                                    rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt2                  pseudo_TE-IS 20     rt3                  -         rt3(4)
rt4                  TE-IS        20                                    rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        20                                    rt2(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt3                  -         rt4(4)
                                                                        rt5(4)
10.0.255.4/32        IP TE        30                                    rt4(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt3                  -         rt6(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.3/32  20      -          rt3      -         
 10.0.255.5/32  30      -          rt3      -         
 10.0.255.6/32  40      -          rt3      -         

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10                                    rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt2                  pseudo_TE-IS 20     rt3                  -         rt3(4)
rt4                  TE-IS        20                                    rt2(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
2001:db8::2/128      IP6 internal 20                                    rt2(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt3                  -         rt4(4)
                                                                        rt5(4)
2001:db8::4/128      IP6 internal 30                                    rt4(4)
2001:db8::5/128      IP6 internal 30     rt3                  -         rt5(4)
2001:db8::6/128      IP6 internal 40     rt3                  -         rt6(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::3/128  20      -          rt3      -         
 2001:db8::5/128  30      -          rt3      -         
 2001:db8::6/128  40      -          rt3      -         

test# 
test# test isis topology 1 root rt1 ti-lfa system-id rt2
P-space (self):
 rt3
 rt5

P-space (rt3):
 rt3
 rt5
 rt6

Q-space:
 rt2
 rt4
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt4                  TE-IS        40     rt3                  -         rt6(4)
10.0.255.6/32        IP TE        40     rt3                  -         rt6(4)
rt2                  TE-IS        50     rt3                  -         rt4(4)
10.0.255.4/32        IP TE        50     rt3                  -         rt4(4)
10.0.255.2/32        IP TE        60     rt3                  -         rt2(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  60      -          rt3      16060     
 10.0.255.4/32  50      -          rt3      16060     

P-space (self):
 rt3
 rt5

P-space (rt3):
 rt3
 rt5
 rt6

Q-space:
 rt2
 rt4
 rt6

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt6                  TE-IS        30     rt3                  -         rt5(4)
2001:db8::5/128      IP6 internal 30     rt3                  -         rt5(4)
rt4                  TE-IS        40     rt3                  -         rt6(4)
2001:db8::6/128      IP6 internal 40     rt3                  -         rt6(4)
rt2                  TE-IS        50     rt3                  -         rt4(4)
2001:db8::4/128      IP6 internal 50     rt3                  -         rt4(4)
2001:db8::2/128      IP6 internal 60     rt3                  -         rt2(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  60      -          rt3      16061     
 2001:db8::4/128  50      -          rt3      16061     

test# test isis topology 2 root rt1 ti-lfa system-id rt3
P-space (self):
 rt2
 rt4
 rt5
 rt6

P-space (rt2):
 rt2

P-space (rt4):
 rt2
 rt4
 rt5
 rt6

P-space (rt5):
 rt2
 rt4
 rt5
 rt6

Q-space:
 rt3

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt5                  TE-IS        10     rt5                  -         rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
rt1                                                                   
rt6                  TE-IS        20     rt4                  -         rt4(4)
                                         rt5                  -         rt5(4)
10.0.255.4/32        IP TE        20     rt4                  -         rt4(4)
10.0.255.5/32        IP TE        20     rt5                  -         rt5(4)
10.0.255.2/32        IP TE        25     rt2                  -         rt2(4)
10.0.255.6/32        IP TE        30     rt4                  -         rt6(4)
                                         rt5                  -         
rt3                  TE-IS        50     rt5                  -         rt5(4)
10.0.255.3/32        IP TE        60     rt5                  -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.3/32  60      -          rt5      16050/18  

P-space (self):
 rt2
 rt4
 rt5
 rt6

P-space (rt2):
 rt2

P-space (rt4):
 rt2
 rt4
 rt5
 rt6

P-space (rt5):
 rt2
 rt4
 rt5
 rt6

Q-space:
 rt3

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt4                  TE-IS        10     rt4                  -         rt1(4)
rt5                  TE-IS        10     rt5                  -         rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
rt1                                                                   
rt6                  TE-IS        20     rt4                  -         rt4(4)
                                         rt5                  -         rt5(4)
2001:db8::4/128      IP6 internal 20     rt4                  -         rt4(4)
2001:db8::5/128      IP6 internal 20     rt5                  -         rt5(4)
2001:db8::2/128      IP6 internal 25     rt2                  -         rt2(4)
2001:db8::6/128      IP6 internal 30     rt4                  -         rt6(4)
                                         rt5                  -         
rt3                  TE-IS        50     rt5                  -         rt5(4)
2001:db8::3/128      IP6 internal 60     rt5                  -         rt3(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::3/128  60      -          rt5      16051/19  

test# test isis topology 2 root rt1 ti-lfa system-id rt1 pseudonode-id 1
P-space (self):
 rt2
 rt3

P-space (rt2):
 rt2
 rt3

P-space (rt3):
 rt2
 rt3

Q-space:
 rt4
 rt5
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
10.0.255.2/32        IP TE        25     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt3                  -         rt1(4)
10.0.255.3/32        IP TE        40     rt3                  -         rt3(4)
rt4                  TE-IS        55     rt2                  -         rt2(4)
rt1                                                                   
rt6                  TE-IS        65     rt2                  -         rt4(4)
rt5                  TE-IS        65     rt2                  -         rt1(2)
10.0.255.4/32        IP TE        65     rt2                  -         rt4(4)
10.0.255.6/32        IP TE        75     rt2                  -         rt6(4)
10.0.255.5/32        IP TE        75     rt2                  -         rt5(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.4/32  65      -          rt2      16020/18  
 10.0.255.5/32  75      -          rt2      16020/18  
 10.0.255.6/32  75      -          rt2      16020/18  

P-space (self):
 rt2
 rt3

P-space (rt2):
 rt2
 rt3

P-space (rt3):
 rt2
 rt3

Q-space:
 rt4
 rt5
 rt6

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        15     rt2                  -         rt1(4)
2001:db8::2/128      IP6 internal 25     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt3                  -         rt1(4)
2001:db8::3/128      IP6 internal 40     rt3                  -         rt3(4)
rt4                  TE-IS        55     rt2                  -         rt2(4)
rt1                                                                   
rt6                  TE-IS        65     rt2                  -         rt4(4)
rt5                  TE-IS        65     rt2                  -         rt1(2)
2001:db8::4/128      IP6 internal 65     rt2                  -         rt4(4)
2001:db8::6/128      IP6 internal 75     rt2                  -         rt6(4)
2001:db8::5/128      IP6 internal 75     rt2                  -         rt5(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::4/128  65      -          rt2      16021/19  
 2001:db8::5/128  75      -          rt2      16021/19  
 2001:db8::6/128  75      -          rt2      16021/19  

test# test isis topology 2 root rt5 ti-lfa system-id rt1 pseudonode-id 1
P-space (self):
 rt6

P-space (rt3):
 rt1
 rt2
 rt3
 rt4

P-space (rt6):
 rt4
 rt6

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt5                                                                   
10.0.255.5/32        IP internal  0                                     rt5(4)
rt6                  TE-IS        10     rt6                  -         rt5(4)
rt4                  TE-IS        20     rt6                  -         rt6(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
rt1                  pseudo_TE-IS 30     rt6                  -         rt4(4)
rt1                  TE-IS        30     rt6                  -         rt1(2)
10.0.255.4/32        IP TE        30     rt6                  -         rt4(4)
rt3                  TE-IS        40     rt3                  -         rt5(4)
10.0.255.1/32        IP TE        40     rt6                  -         rt1(4)
rt2                  TE-IS        45     rt6                  -         rt1(4)
10.0.255.3/32        IP TE        50     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        55     rt6                  -         rt2(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.1/32  40      -          rt6      16040     
 10.0.255.2/32  55      -          rt6      16040     
 10.0.255.4/32  30      -          rt6      -         

P-space (self):
 rt6

P-space (rt3):
 rt1
 rt2
 rt3
 rt4

P-space (rt6):
 rt4
 rt6

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt6

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt5                                                                   
2001:db8::5/128      IP6 internal 0                                     rt5(4)
rt6                  TE-IS        10     rt6                  -         rt5(4)
rt4                  TE-IS        20     rt6                  -         rt6(4)
2001:db8::6/128      IP6 internal 20     rt6                  -         rt6(4)
rt1                  pseudo_TE-IS 30     rt6                  -         rt4(4)
rt1                  TE-IS        30     rt6                  -         rt1(2)
2001:db8::4/128      IP6 internal 30     rt6                  -         rt4(4)
rt3                  TE-IS        40     rt3                  -         rt5(4)
2001:db8::1/128      IP6 internal 40     rt6                  -         rt1(4)
rt2                  TE-IS        45     rt6                  -         rt1(4)
2001:db8::3/128      IP6 internal 50     rt3                  -         rt3(4)
2001:db8::2/128      IP6 internal 55     rt6                  -         rt2(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::1/128  40      -          rt6      16041     
 2001:db8::2/128  55      -          rt6      16041     
 2001:db8::4/128  30      -          rt6      -         

test# test isis topology 3 root rt5 ti-lfa system-id rt4 ipv4-only
P-space (self):
 rt6

P-space (rt3):
 rt1
 rt2
 rt3
 rt4
 rt6

P-space (rt6):
 rt1
 rt2
 rt3
 rt4
 rt6

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt5                                                                   
10.0.255.5/32        IP internal  0                                     rt5(4)
rt6                  TE-IS        10     rt6                  -         rt5(4)
rt4                  TE-IS        20     rt6                  -         rt6(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
rt3                  TE-IS        30     rt3                  -         rt5(4)
rt2                  TE-IS        30     rt6                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt6                  -         rt4(4)
rt1                  TE-IS        40     rt3                  -         rt3(4)
                                         rt6                  -         rt2(4)
10.0.255.3/32        IP TE        40     rt3                  -         rt3(4)
10.0.255.2/32        IP TE        40     rt6                  -         rt2(4)
10.0.255.1/32        IP TE        50     rt3                  -         rt1(4)
                                         rt6                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.1/32  50      -          rt3      -         
                        -          rt6      -         
 10.0.255.2/32  40      -          rt6      -         
 10.0.255.4/32  30      -          rt6      -         

test# test isis topology 3 root rt5 ti-lfa system-id rt3 ipv4-only
P-space (self):
 rt1
 rt2
 rt4
 rt6

P-space (rt4):
 rt1
 rt2
 rt3
 rt4
 rt6

P-space (rt6):
 rt1
 rt2
 rt3
 rt4
 rt6

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt5                                                                   
10.0.255.5/32        IP internal  0                                     rt5(4)
rt4                  TE-IS        10     rt4                  -         rt5(4)
rt6                  TE-IS        10     rt6                  -         rt5(4)
rt2                  TE-IS        20     rt4                  -         rt4(4)
10.0.255.4/32        IP TE        20     rt4                  -         rt4(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
rt1                  TE-IS        30     rt4                  -         rt2(4)
rt3                  TE-IS        30     rt4                  -         rt2(4)
10.0.255.2/32        IP TE        30     rt4                  -         rt2(4)
10.0.255.1/32        IP TE        40     rt4                  -         rt1(4)
10.0.255.3/32        IP TE        40     rt4                  -         rt3(4)

IS-IS L1 IPv4 routing table:

test# test isis topology 4 root rt1 ti-lfa system-id rt2 ipv4-only
P-space (self):
 rt3
 rt5
 rt7

P-space (rt3):
 rt3
 rt5
 rt7

Q-space:
 rt2
 rt4
 rt6
 rt8

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
rt6                  TE-IS        70     rt3                  -         rt5(4)
rt4                  TE-IS        80     rt3                  -         rt6(4)
rt8                  TE-IS        80     rt3                  -         rt6(4)
10.0.255.6/32        IP TE        80     rt3                  -         rt6(4)
rt2                  TE-IS        90     rt3                  -         rt4(4)
10.0.255.4/32        IP TE        90     rt3                  -         rt4(4)
10.0.255.8/32        IP TE        90     rt3                  -         rt8(4)
10.0.255.2/32        IP TE        100    rt3                  -         rt2(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  100     -          rt3      16050/17  
 10.0.255.4/32  90      -          rt3      16050/17  
 10.0.255.6/32  80      -          rt3      16050/17  
 10.0.255.8/32  90      -          rt3      16050/17  

test# test isis topology 4 root rt4 ti-lfa system-id rt6 ipv4-only
P-space (self):
 rt1
 rt2
 rt3
 rt5
 rt7

P-space (rt2):
 rt1
 rt2
 rt3
 rt5
 rt7

Q-space:
 rt6
 rt8

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt4                                                                   
10.0.255.4/32        IP internal  0                                     rt4(4)
rt2                  TE-IS        10     rt2                  -         rt4(4)
rt1                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt2                  -         rt1(4)
10.0.255.1/32        IP TE        30     rt2                  -         rt1(4)
rt5                  TE-IS        40     rt2                  -         rt3(4)
10.0.255.3/32        IP TE        40     rt2                  -         rt3(4)
rt7                  TE-IS        50     rt2                  -         rt5(4)
10.0.255.5/32        IP TE        50     rt2                  -         rt5(4)
10.0.255.7/32        IP TE        60     rt2                  -         rt7(4)
rt6                  TE-IS        90     rt2                  -         rt5(4)
rt8                  TE-IS        100    rt2                  -         rt6(4)
10.0.255.6/32        IP TE        100    rt2                  -         rt6(4)
10.0.255.8/32        IP TE        110    rt2                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.6/32  100     -          rt2      16050/17  
 10.0.255.8/32  110     -          rt2      16050/17  

test# test isis topology 5 root rt1 ti-lfa system-id rt2 ipv4-only
P-space (self):
 rt3
 rt5
 rt7

P-space (rt3):
 rt3
 rt5
 rt7
 rt8

Q-space:
 rt2
 rt4
 rt6
 rt8

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt3                  -         rt5(4)
10.0.255.5/32        IP TE        30     rt3                  -         rt5(4)
rt8                  TE-IS        40     rt3                  -         rt7(4)
10.0.255.7/32        IP TE        40     rt3                  -         rt7(4)
rt6                  TE-IS        50     rt3                  -         rt8(4)
10.0.255.8/32        IP TE        50     rt3                  -         rt8(4)
rt4                  TE-IS        60     rt3                  -         rt6(4)
10.0.255.6/32        IP TE        60     rt3                  -         rt6(4)
rt2                  TE-IS        70     rt3                  -         rt4(4)
10.0.255.4/32        IP TE        70     rt3                  -         rt4(4)
10.0.255.2/32        IP TE        80     rt3                  -         rt2(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  80      -          rt3      16080     
 10.0.255.4/32  70      -          rt3      16080     
 10.0.255.6/32  60      -          rt3      16080     

test# test isis topology 6 root rt4 ti-lfa system-id rt3 ipv4-only
P-space (self):
 rt2
 rt5
 rt6
 rt7
 rt8

P-space (rt2):
 rt1
 rt2

P-space (rt6):
 rt5
 rt6
 rt7
 rt8

Q-space:
 rt1
 rt3

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt4                                                                   
10.0.255.4/32        IP internal  0                                     rt4(4)
rt2                  TE-IS        10     rt2                  -         rt4(4)
rt6                  TE-IS        10     rt6                  -         rt4(4)
rt1                  TE-IS        20     rt2                  -         rt2(4)
rt5                  TE-IS        20     rt6                  -         rt6(4)
rt8                  TE-IS        20     rt6                  -         rt6(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
rt3                  TE-IS        30     rt2                  -         rt1(4)
rt7                  TE-IS        30     rt6                  -         rt5(4)
                                                                        rt8(4)
10.0.255.1/32        IP TE        30     rt2                  -         rt1(4)
10.0.255.5/32        IP TE        30     rt6                  -         rt5(4)
10.0.255.8/32        IP TE        30     rt6                  -         rt8(4)
10.0.255.3/32        IP TE        40     rt2                  -         rt3(4)
10.0.255.7/32        IP TE        40     rt6                  -         rt7(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.3/32  40      -          rt2      16010     

test# test isis topology 7 root rt11 ti-lfa system-id rt8 ipv4-only
P-space (self):
 rt10
 rt12

P-space (rt10):
 rt1
 rt4
 rt7
 rt10

P-space (rt12):
 rt9
 rt12

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt11                                                                  
10.0.255.11/32       IP internal  0                                     rt11(4)
rt10                 TE-IS        10     rt10                 -         rt11(4)
rt12                 TE-IS        10     rt12                 -         rt11(4)
rt9                  TE-IS        20     rt12                 -         rt12(4)
10.0.255.10/32       IP TE        20     rt10                 -         rt10(4)
10.0.255.12/32       IP TE        20     rt12                 -         rt12(4)
rt7                  TE-IS        30     rt10                 -         rt10(4)
rt8                  TE-IS        30     rt12                 -         rt9(4)
10.0.255.9/32        IP TE        30     rt12                 -         rt9(4)
rt4                  TE-IS        40     rt10                 -         rt7(4)
rt5                  TE-IS        40     rt12                 -         rt8(4)
10.0.255.7/32        IP TE        40     rt10                 -         rt7(4)
10.0.255.8/32        IP TE        40     rt12                 -         rt8(4)
rt6                  TE-IS        50     rt12                 -         rt9(4)
                                                                        rt5(4)
rt1                  TE-IS        50     rt10                 -         rt4(4)
rt2                  TE-IS        50     rt12                 -         rt5(4)
10.0.255.4/32        IP TE        50     rt10                 -         rt4(4)
10.0.255.5/32        IP TE        50     rt12                 -         rt5(4)
rt3                  TE-IS        60     rt12                 -         rt6(4)
                                                                        rt2(4)
10.0.255.6/32        IP TE        60     rt12                 -         rt6(4)
10.0.255.1/32        IP TE        60     rt10                 -         rt1(4)
10.0.255.2/32        IP TE        60     rt12                 -         rt2(4)
10.0.255.3/32        IP TE        70     rt12                 -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.1/32  60      -          rt10     -         
 10.0.255.2/32  60      -          rt12     16090     
 10.0.255.3/32  70      -          rt12     16090     
 10.0.255.4/32  50      -          rt10     -         
 10.0.255.5/32  50      -          rt12     16090     
 10.0.255.6/32  60      -          rt12     16090     
 10.0.255.7/32  40      -          rt10     -         
 10.0.255.8/32  40      -          rt12     16090     

test# test isis topology 7 root rt6 ti-lfa system-id rt5 ipv4-only
P-space (self):
 rt3

P-space (rt3):
 rt2
 rt3

P-space (rt9):
 rt1
 rt2
 rt4
 rt5
 rt7
 rt8
 rt9
 rt10
 rt11
 rt12

Q-space:
 rt1
 rt2
 rt4
 rt5
 rt7
 rt8
 rt9
 rt10
 rt11
 rt12

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt6                                                                   
10.0.255.6/32        IP internal  0                                     rt6(4)
rt3                  TE-IS        10     rt3                  -         rt6(4)
rt2                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt9                  TE-IS        30     rt9                  -         rt6(4)
rt5                  TE-IS        30     rt3                  -         rt2(4)
10.0.255.2/32        IP TE        30     rt3                  -         rt2(4)
rt8                  TE-IS        40     rt9                  -         rt9(4)
                                         rt3                  -         rt5(4)
rt12                 TE-IS        40     rt9                  -         rt9(4)
rt4                  TE-IS        40     rt3                  -         rt5(4)
10.0.255.9/32        IP TE        40     rt9                  -         rt9(4)
10.0.255.5/32        IP TE        40     rt3                  -         rt5(4)
rt7                  TE-IS        50     rt9                  -         rt8(4)
                                         rt3                  -         rt4(4)
rt11                 TE-IS        50     rt9                  -         rt8(4)
                                         rt3                  -         rt12(4)
rt1                  TE-IS        50     rt3                  -         rt4(4)
10.0.255.8/32        IP TE        50     rt9                  -         rt8(4)
                                         rt3                  -         
10.0.255.12/32       IP TE        50     rt9                  -         rt12(4)
10.0.255.4/32        IP TE        50     rt3                  -         rt4(4)
rt10                 TE-IS        60     rt9                  -         rt11(4)
                                         rt3                  -         
10.0.255.7/32        IP TE        60     rt9                  -         rt7(4)
                                         rt3                  -         
10.0.255.11/32       IP TE        60     rt9                  -         rt11(4)
                                         rt3                  -         
10.0.255.1/32        IP TE        60     rt3                  -         rt1(4)
10.0.255.10/32       IP TE        70     rt9                  -         rt10(4)
                                         rt3                  -         

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.1/32   60      -          rt3      16020     
 10.0.255.4/32   50      -          rt3      16020     
 10.0.255.5/32   40      -          rt3      16020     
 10.0.255.7/32   60      -          rt9      -         
                         -          rt3      -         
 10.0.255.8/32   50      -          rt9      -         
                         -          rt3      -         
 10.0.255.10/32  70      -          rt9      -         
                         -          rt3      -         
 10.0.255.11/32  60      -          rt9      -         
                         -          rt3      -         

test# test isis topology 8 root rt2 ti-lfa system-id rt1 ipv4-only
P-space (self):
 rt3
 rt5
 rt6
 rt8
 rt9
 rt11
 rt12

P-space (rt3):
 rt3
 rt6

P-space (rt5):
 rt5
 rt6
 rt8
 rt9
 rt11
 rt12

Q-space:
 rt1
 rt4
 rt7
 rt10

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt2                                                                   
10.0.255.2/32        IP internal  0                                     rt2(4)
rt3                  TE-IS        10     rt3                  -         rt2(4)
rt5                  TE-IS        10     rt5                  -         rt2(4)
rt6                  TE-IS        20     rt3                  -         rt3(4)
                                         rt5                  -         rt5(4)
rt8                  TE-IS        20     rt5                  -         rt5(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
10.0.255.5/32        IP TE        20     rt5                  -         rt5(4)
rt9                  TE-IS        30     rt5                  -         rt8(4)
rt11                 TE-IS        30     rt5                  -         rt8(4)
10.0.255.6/32        IP TE        30     rt3                  -         rt6(4)
                                         rt5                  -         
10.0.255.8/32        IP TE        30     rt5                  -         rt8(4)
rt12                 TE-IS        40     rt5                  -         rt9(4)
                                                                        rt11(4)
10.0.255.9/32        IP TE        40     rt5                  -         rt9(4)
10.0.255.11/32       IP TE        40     rt5                  -         rt11(4)
10.0.255.12/32       IP TE        50     rt5                  -         rt12(4)
rt10                 TE-IS        60     rt5                  -         rt11(4)
rt7                  TE-IS        70     rt5                  -         rt10(4)
10.0.255.10/32       IP TE        70     rt5                  -         rt10(4)
rt4                  TE-IS        80     rt5                  -         rt7(4)
10.0.255.7/32        IP TE        80     rt5                  -         rt7(4)
rt1                  TE-IS        90     rt5                  -         rt4(4)
10.0.255.4/32        IP TE        90     rt5                  -         rt4(4)
10.0.255.1/32        IP TE        100    rt5                  -         rt1(4)

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.1/32   100     -          rt5      16110/17  
 10.0.255.4/32   90      -          rt5      16110/17  
 10.0.255.7/32   80      -          rt5      16110/17  
 10.0.255.10/32  70      -          rt5      16110/17  

test# test isis topology 8 root rt2 ti-lfa system-id rt5 ipv4-only
P-space (self):
 rt1
 rt3
 rt4
 rt7
 rt10

P-space (rt1):
 rt1
 rt4
 rt7
 rt10

P-space (rt3):
 rt3
 rt6

Q-space:
 rt5
 rt6
 rt8
 rt9
 rt11
 rt12

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt2                                                                   
10.0.255.2/32        IP internal  0                                     rt2(4)
rt1                  TE-IS        10     rt1                  -         rt2(4)
rt3                  TE-IS        10     rt3                  -         rt2(4)
rt4                  TE-IS        20     rt1                  -         rt1(4)
rt6                  TE-IS        20     rt3                  -         rt3(4)
10.0.255.1/32        IP TE        20     rt1                  -         rt1(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt1                  -         rt4(4)
rt5                  TE-IS        30     rt3                  -         rt6(4)
10.0.255.4/32        IP TE        30     rt1                  -         rt4(4)
10.0.255.6/32        IP TE        30     rt3                  -         rt6(4)
rt10                 TE-IS        40     rt1                  -         rt7(4)
rt8                  TE-IS        40     rt3                  -         rt5(4)
10.0.255.7/32        IP TE        40     rt1                  -         rt7(4)
10.0.255.5/32        IP TE        40     rt3                  -         rt5(4)
rt9                  TE-IS        50     rt3                  -         rt8(4)
rt11                 TE-IS        50     rt3                  -         rt8(4)
10.0.255.10/32       IP TE        50     rt1                  -         rt10(4)
10.0.255.8/32        IP TE        50     rt3                  -         rt8(4)
rt12                 TE-IS        60     rt3                  -         rt9(4)
                                                                        rt11(4)
10.0.255.9/32        IP TE        60     rt3                  -         rt9(4)
10.0.255.11/32       IP TE        60     rt3                  -         rt11(4)
10.0.255.12/32       IP TE        70     rt3                  -         rt12(4)

IS-IS L1 IPv4 routing table:

 Prefix          Metric  Interface  Nexthop  Label(s)  
 ------------------------------------------------------
 10.0.255.5/32   40      -          rt3      16060     
 10.0.255.8/32   50      -          rt3      16060     
 10.0.255.9/32   60      -          rt3      16060     
 10.0.255.11/32  60      -          rt3      16060     
 10.0.255.12/32  70      -          rt3      16060     

test# test isis topology 9 root rt1 ti-lfa system-id rt3
P-space (self):
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

P-space (rt2):
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

Q-space:
 rt3

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt5                  TE-IS        30     rt2                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
rt9                  TE-IS        40     rt2                  -         rt5(4)
10.0.255.5/32        IP TE        40     rt2                  -         rt5(4)
rt6                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
10.0.255.9/32        IP TE        50     rt2                  -         rt9(4)
10.0.255.6/32        IP TE        60     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        60     rt2                  -         rt7(4)
10.0.255.8/32        IP TE        60     rt2                  -         rt8(4)
rt3                  TE-IS        120    rt2                  -         rt4(4)
10.0.255.3/32        IP TE        130    rt2                  -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.3/32  130     -          rt2      16040/18  

P-space (self):
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

P-space (rt2):
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

Q-space:
 rt3

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
rt5                  TE-IS        30     rt2                  -         rt4(4)
2001:db8::4/128      IP6 internal 30     rt2                  -         rt4(4)
rt9                  TE-IS        40     rt2                  -         rt5(4)
2001:db8::5/128      IP6 internal 40     rt2                  -         rt5(4)
rt6                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        50     rt2                  -         rt4(4)
                                                                        rt9(4)
2001:db8::9/128      IP6 internal 50     rt2                  -         rt9(4)
2001:db8::6/128      IP6 internal 60     rt2                  -         rt6(4)
2001:db8::7/128      IP6 internal 60     rt2                  -         rt7(4)
2001:db8::8/128      IP6 internal 60     rt2                  -         rt8(4)
rt3                  TE-IS        120    rt2                  -         rt4(4)
2001:db8::3/128      IP6 internal 130    rt2                  -         rt3(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::3/128  130     -          rt2      16041/19  

test# test isis topology 9 root rt1 ti-lfa system-id rt2
P-space (self):
 rt3

P-space (rt3):
 rt3

Q-space:
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
10.0.255.3/32        IP TE        20     rt3                  -         rt3(4)
rt4                  TE-IS        110    rt3                  -         rt3(4)
rt2                  TE-IS        120    rt3                  -         rt4(4)
rt5                  TE-IS        120    rt3                  -         rt4(4)
10.0.255.4/32        IP TE        120    rt3                  -         rt4(4)
rt9                  TE-IS        130    rt3                  -         rt5(4)
10.0.255.2/32        IP TE        130    rt3                  -         rt2(4)
10.0.255.5/32        IP TE        130    rt3                  -         rt5(4)
rt6                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
10.0.255.9/32        IP TE        140    rt3                  -         rt9(4)
10.0.255.6/32        IP TE        150    rt3                  -         rt6(4)
10.0.255.7/32        IP TE        150    rt3                  -         rt7(4)
10.0.255.8/32        IP TE        150    rt3                  -         rt8(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  130     -          rt3      16030/18  
 10.0.255.4/32  120     -          rt3      16030/18  
 10.0.255.5/32  130     -          rt3      16030/18  
 10.0.255.6/32  150     -          rt3      16030/18  
 10.0.255.7/32  150     -          rt3      16030/18  
 10.0.255.8/32  150     -          rt3      16030/18  
 10.0.255.9/32  140     -          rt3      16030/18  

P-space (self):
 rt3

P-space (rt3):
 rt3

Q-space:
 rt2
 rt4
 rt5
 rt6
 rt7
 rt8
 rt9

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt3                  TE-IS        10     rt3                  -         rt1(4)
2001:db8::3/128      IP6 internal 20     rt3                  -         rt3(4)
rt4                  TE-IS        110    rt3                  -         rt3(4)
rt2                  TE-IS        120    rt3                  -         rt4(4)
rt5                  TE-IS        120    rt3                  -         rt4(4)
2001:db8::4/128      IP6 internal 120    rt3                  -         rt4(4)
rt9                  TE-IS        130    rt3                  -         rt5(4)
2001:db8::2/128      IP6 internal 130    rt3                  -         rt2(4)
2001:db8::5/128      IP6 internal 130    rt3                  -         rt5(4)
rt6                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
rt7                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
rt8                  TE-IS        140    rt3                  -         rt4(4)
                                                                        rt9(4)
2001:db8::9/128      IP6 internal 140    rt3                  -         rt9(4)
2001:db8::6/128      IP6 internal 150    rt3                  -         rt6(4)
2001:db8::7/128      IP6 internal 150    rt3                  -         rt7(4)
2001:db8::8/128      IP6 internal 150    rt3                  -         rt8(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  130     -          rt3      16031/19  
 2001:db8::4/128  120     -          rt3      16031/19  
 2001:db8::5/128  130     -          rt3      16031/19  
 2001:db8::6/128  150     -          rt3      16031/19  
 2001:db8::7/128  150     -          rt3      16031/19  
 2001:db8::8/128  150     -          rt3      16031/19  
 2001:db8::9/128  140     -          rt3      16031/19  

test# test isis topology 9 root rt9 ti-lfa system-id rt5
P-space (self):
 rt6
 rt7
 rt8

P-space (rt6):
 rt6

P-space (rt7):
 rt7

P-space (rt8):
 rt8

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt5

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt9                                                                   
10.0.255.9/32        IP internal  0                                     rt9(4)
rt6                  TE-IS        10     rt6                  -         rt9(4)
rt7                  TE-IS        10     rt7                  -         rt9(4)
rt8                  TE-IS        10     rt8                  -         rt9(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
10.0.255.7/32        IP TE        20     rt7                  -         rt7(4)
10.0.255.8/32        IP TE        20     rt8                  -         rt8(4)
rt4                  TE-IS        40     rt6                  -         rt6(4)
                                         rt7                  -         rt7(4)
                                         rt8                  -         rt8(4)
rt2                  TE-IS        50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
rt5                  TE-IS        50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
10.0.255.4/32        IP TE        50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
rt1                  TE-IS        60     rt6                  -         rt2(4)
                                         rt7                  -         
                                         rt8                  -         
10.0.255.2/32        IP TE        60     rt6                  -         rt2(4)
                                         rt7                  -         
                                         rt8                  -         
10.0.255.5/32        IP TE        60     rt6                  -         rt5(4)
                                         rt7                  -         
                                         rt8                  -         
rt3                  TE-IS        70     rt6                  -         rt1(4)
                                         rt7                  -         
                                         rt8                  -         
10.0.255.1/32        IP TE        70     rt6                  -         rt1(4)
                                         rt7                  -         
                                         rt8                  -         
10.0.255.3/32        IP TE        80     rt6                  -         rt3(4)
                                         rt7                  -         
                                         rt8                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.1/32  70      -          rt6      16060/16  
                        -          rt7      16070/16  
                        -          rt8      16080/16  
 10.0.255.2/32  60      -          rt6      16060/16  
                        -          rt7      16070/16  
                        -          rt8      16080/16  
 10.0.255.3/32  80      -          rt6      16060/16  
                        -          rt7      16070/16  
                        -          rt8      16080/16  
 10.0.255.4/32  50      -          rt6      16060/16  
                        -          rt7      16070/16  
                        -          rt8      16080/16  
 10.0.255.5/32  60      -          rt6      16060/16  
                        -          rt7      16070/16  
                        -          rt8      16080/16  

P-space (self):
 rt6
 rt7
 rt8

P-space (rt6):
 rt6

P-space (rt7):
 rt7

P-space (rt8):
 rt8

Q-space:
 rt1
 rt2
 rt3
 rt4
 rt5

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt9                                                                   
2001:db8::9/128      IP6 internal 0                                     rt9(4)
rt6                  TE-IS        10     rt6                  -         rt9(4)
rt7                  TE-IS        10     rt7                  -         rt9(4)
rt8                  TE-IS        10     rt8                  -         rt9(4)
2001:db8::6/128      IP6 internal 20     rt6                  -         rt6(4)
2001:db8::7/128      IP6 internal 20     rt7                  -         rt7(4)
2001:db8::8/128      IP6 internal 20     rt8                  -         rt8(4)
rt4                  TE-IS        40     rt6                  -         rt6(4)
                                         rt7                  -         rt7(4)
                                         rt8                  -         rt8(4)
rt2                  TE-IS        50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
rt5                  TE-IS        50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
2001:db8::4/128      IP6 internal 50     rt6                  -         rt4(4)
                                         rt7                  -         
                                         rt8                  -         
rt1                  TE-IS        60     rt6                  -         rt2(4)
                                         rt7                  -         
                                         rt8                  -         
2001:db8::2/128      IP6 internal 60     rt6                  -         rt2(4)
                                         rt7                  -         
                                         rt8                  -         
2001:db8::5/128      IP6 internal 60     rt6                  -         rt5(4)
                                         rt7                  -         
                                         rt8                  -         
rt3                  TE-IS        70     rt6                  -         rt1(4)
                                         rt7                  -         
                                         rt8                  -         
2001:db8::1/128      IP6 internal 70     rt6                  -         rt1(4)
                                         rt7                  -         
                                         rt8                  -         
2001:db8::3/128      IP6 internal 80     rt6                  -         rt3(4)
                                         rt7                  -         
                                         rt8                  -         

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::1/128  70      -          rt6      16061/17  
                          -          rt7      16071/17  
                          -          rt8      16081/17  
 2001:db8::2/128  60      -          rt6      16061/17  
                          -          rt7      16071/17  
                          -          rt8      16081/17  
 2001:db8::3/128  80      -          rt6      16061/17  
                          -          rt7      16071/17  
                          -          rt8      16081/17  
 2001:db8::4/128  50      -          rt6      16061/17  
                          -          rt7      16071/17  
                          -          rt8      16081/17  
 2001:db8::5/128  60      -          rt6      16061/17  
                          -          rt7      16071/17  
                          -          rt8      16081/17  

test# test isis topology 9 root rt9 ti-lfa system-id rt8
P-space (self):
 rt1
 rt2
 rt3
 rt4
 rt5
 rt6
 rt7

P-space (rt5):
 rt1
 rt2
 rt3
 rt4
 rt5

P-space (rt6):
 rt6

P-space (rt7):
 rt7

Q-space:
 rt8

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt9                                                                   
10.0.255.9/32        IP internal  0                                     rt9(4)
rt5                  TE-IS        10     rt5                  -         rt9(4)
rt6                  TE-IS        10     rt6                  -         rt9(4)
rt7                  TE-IS        10     rt7                  -         rt9(4)
rt4                  TE-IS        20     rt5                  -         rt5(4)
10.0.255.5/32        IP TE        20     rt5                  -         rt5(4)
10.0.255.6/32        IP TE        20     rt6                  -         rt6(4)
10.0.255.7/32        IP TE        20     rt7                  -         rt7(4)
rt2                  TE-IS        30     rt5                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt5                  -         rt4(4)
rt1                  TE-IS        40     rt5                  -         rt2(4)
10.0.255.2/32        IP TE        40     rt5                  -         rt2(4)
rt8                  TE-IS        50     rt5                  -         rt4(4)
rt3                  TE-IS        50     rt5                  -         rt1(4)
10.0.255.1/32        IP TE        50     rt5                  -         rt1(4)
10.0.255.8/32        IP TE        60     rt5                  -         rt8(4)
10.0.255.3/32        IP TE        60     rt5                  -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.8/32  60      -          rt5      16040/26  

P-space (self):
 rt1
 rt2
 rt3
 rt4
 rt5
 rt6
 rt7

P-space (rt5):
 rt1
 rt2
 rt3
 rt4
 rt5

P-space (rt6):
 rt6

P-space (rt7):
 rt7

Q-space:
 rt8

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt9                                                                   
2001:db8::9/128      IP6 internal 0                                     rt9(4)
rt5                  TE-IS        10     rt5                  -         rt9(4)
rt6                  TE-IS        10     rt6                  -         rt9(4)
rt7                  TE-IS        10     rt7                  -         rt9(4)
rt4                  TE-IS        20     rt5                  -         rt5(4)
2001:db8::5/128      IP6 internal 20     rt5                  -         rt5(4)
2001:db8::6/128      IP6 internal 20     rt6                  -         rt6(4)
2001:db8::7/128      IP6 internal 20     rt7                  -         rt7(4)
rt2                  TE-IS        30     rt5                  -         rt4(4)
2001:db8::4/128      IP6 internal 30     rt5                  -         rt4(4)
rt1                  TE-IS        40     rt5                  -         rt2(4)
2001:db8::2/128      IP6 internal 40     rt5                  -         rt2(4)
rt8                  TE-IS        50     rt5                  -         rt4(4)
rt3                  TE-IS        50     rt5                  -         rt1(4)
2001:db8::1/128      IP6 internal 50     rt5                  -         rt1(4)
2001:db8::8/128      IP6 internal 60     rt5                  -         rt8(4)
2001:db8::3/128      IP6 internal 60     rt5                  -         rt3(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::8/128  60      -          rt5      16041/27  

test# test isis topology 10 root rt1 ti-lfa system-id rt2
P-space (self):
 rt3
 rt4
 rt6
 rt7

P-space (rt3):
 rt3
 rt6

P-space (rt4):
 rt4
 rt7

Q-space:
 rt2
 rt5
 rt8

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt4                  -         rt1(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt4                  -         rt4(4)
10.0.255.3/32        IP TE        30     rt3                  -         rt3(4)
10.0.255.4/32        IP TE        30     rt4                  -         rt4(4)
10.0.255.6/32        IP TE        40     rt3                  -         rt6(4)
10.0.255.7/32        IP TE        40     rt4                  -         rt7(4)
rt8                  TE-IS        80     rt3                  -         rt6(4)
                                         rt4                  -         rt7(4)
rt5                  TE-IS        90     rt3                  -         rt8(4)
                                         rt4                  -         
10.0.255.8/32        IP TE        90     rt3                  -         rt8(4)
                                         rt4                  -         
rt2                  TE-IS        100    rt3                  -         rt5(4)
                                         rt4                  -         
10.0.255.5/32        IP TE        100    rt3                  -         rt5(4)
                                         rt4                  -         
10.0.255.2/32        IP TE        110    rt3                  -         rt2(4)
                                         rt4                  -         

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.2/32  110     -          rt3      20060/18  
                        -          rt4      16070/18  
 10.0.255.5/32  100     -          rt3      20060/18  
                        -          rt4      16070/18  
 10.0.255.8/32  90      -          rt3      20060/18  
                        -          rt4      16070/18  

P-space (self):
 rt3
 rt4
 rt6
 rt7

P-space (rt3):
 rt3
 rt6

P-space (rt4):
 rt4
 rt7

Q-space:
 rt2
 rt5
 rt8

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt4                  TE-IS        20     rt4                  -         rt1(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt7                  TE-IS        30     rt4                  -         rt4(4)
2001:db8::3/128      IP6 internal 30     rt3                  -         rt3(4)
2001:db8::4/128      IP6 internal 30     rt4                  -         rt4(4)
2001:db8::6/128      IP6 internal 40     rt3                  -         rt6(4)
2001:db8::7/128      IP6 internal 40     rt4                  -         rt7(4)
rt8                  TE-IS        80     rt3                  -         rt6(4)
                                         rt4                  -         rt7(4)
rt5                  TE-IS        90     rt3                  -         rt8(4)
                                         rt4                  -         
2001:db8::8/128      IP6 internal 90     rt3                  -         rt8(4)
                                         rt4                  -         
rt2                  TE-IS        100    rt3                  -         rt5(4)
                                         rt4                  -         
2001:db8::5/128      IP6 internal 100    rt3                  -         rt5(4)
                                         rt4                  -         
2001:db8::2/128      IP6 internal 110    rt3                  -         rt2(4)
                                         rt4                  -         

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::2/128  110     -          rt3      20061/19  
                          -          rt4      16071/19  
 2001:db8::5/128  100     -          rt3      20061/19  
                          -          rt4      16071/19  
 2001:db8::8/128  90      -          rt3      20061/19  
                          -          rt4      16071/19  

test# test isis topology 10 root rt1 ti-lfa system-id rt4
P-space (self):
 rt2
 rt3
 rt5
 rt6
 rt8

P-space (rt2):
 rt2
 rt5
 rt8

P-space (rt3):
 rt3
 rt6

Q-space:
 rt4
 rt7

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt8                  TE-IS        30     rt2                  -         rt5(4)
10.0.255.3/32        IP TE        30     rt3                  -         rt3(4)
10.0.255.5/32        IP TE        30     rt2                  -         rt5(4)
10.0.255.6/32        IP TE        40     rt3                  -         rt6(4)
10.0.255.8/32        IP TE        40     rt2                  -         rt8(4)
rt7                  TE-IS        80     rt2                  -         rt8(4)
rt4                  TE-IS        90     rt2                  -         rt7(4)
10.0.255.7/32        IP TE        90     rt2                  -         rt7(4)
10.0.255.4/32        IP TE        100    rt2                  -         rt4(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.4/32  100     -          rt2      16080/20  
 10.0.255.7/32  90      -          rt2      16080/20  

P-space (self):
 rt2
 rt3
 rt5
 rt6
 rt8

P-space (rt2):
 rt2
 rt5
 rt8

P-space (rt3):
 rt3
 rt6

Q-space:
 rt4
 rt7

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
2001:db8::1/128      IP6 internal 0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt3                  TE-IS        20     rt3                  -         rt1(4)
rt5                  TE-IS        20     rt2                  -         rt2(4)
2001:db8::2/128      IP6 internal 20     rt2                  -         rt2(4)
rt6                  TE-IS        30     rt3                  -         rt3(4)
rt8                  TE-IS        30     rt2                  -         rt5(4)
2001:db8::3/128      IP6 internal 30     rt3                  -         rt3(4)
2001:db8::5/128      IP6 internal 30     rt2                  -         rt5(4)
2001:db8::6/128      IP6 internal 40     rt3                  -         rt6(4)
2001:db8::8/128      IP6 internal 40     rt2                  -         rt8(4)
rt7                  TE-IS        80     rt2                  -         rt8(4)
rt4                  TE-IS        90     rt2                  -         rt7(4)
2001:db8::7/128      IP6 internal 90     rt2                  -         rt7(4)
2001:db8::4/128      IP6 internal 100    rt2                  -         rt4(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::4/128  100     -          rt2      16081/21  
 2001:db8::7/128  90      -          rt2      16081/21  

test# test isis topology 11 root rt2 ti-lfa system-id rt4
P-space (self):

P-space (rt1):
 rt1
 rt3
 rt5

P-space (rt3):
 rt1
 rt3
 rt5
 rt6

Q-space:
 rt1
 rt3
 rt4
 rt5
 rt6

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt2                                                                   
10.0.255.2/32        IP internal  0                                     rt2(4)
rt1                  TE-IS        50     rt1                  -         rt2(4)
rt3                  TE-IS        50     rt3                  -         rt2(4)
rt2                                                                   
rt5                  TE-IS        60     rt3                  -         rt3(4)
10.0.255.1/32        IP TE        60     rt1                  -         rt1(4)
10.0.255.3/32        IP TE        60     rt3                  -         rt3(4)
rt4                  TE-IS        70     rt3                  -         rt5(4)
rt6                  TE-IS        70     rt3                  -         rt5(4)
10.0.255.5/32        IP TE        70     rt3                  -         rt5(4)
10.0.255.4/32        IP TE        80     rt3                  -         rt4(4)
10.0.255.6/32        IP TE        80     rt3                  -         rt6(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.1/32  60      -          rt1      -         
 10.0.255.3/32  60      -          rt3      -         
 10.0.255.4/32  80      -          rt3      16050     
 10.0.255.5/32  70      -          rt3      -         
 10.0.255.6/32  80      -          rt3      -         

P-space (self):

P-space (rt1):
 rt1
 rt3
 rt5

P-space (rt3):
 rt1
 rt3
 rt5
 rt6

Q-space:
 rt1
 rt3
 rt4
 rt5
 rt6

IS-IS paths to level-1 routers that speak IPv6
Vertex               Type         Metric Next-Hop             Interface Parent
rt2                                                                   
2001:db8::2/128      IP6 internal 0                                     rt2(4)
rt1                  TE-IS        50     rt1                  -         rt2(4)
rt3                  TE-IS        50     rt3                  -         rt2(4)
rt2                                                                   
rt5                  TE-IS        60     rt3                  -         rt3(4)
2001:db8::1/128      IP6 internal 60     rt1                  -         rt1(4)
2001:db8::3/128      IP6 internal 60     rt3                  -         rt3(4)
rt4                  TE-IS        70     rt3                  -         rt5(4)
rt6                  TE-IS        70     rt3                  -         rt5(4)
2001:db8::5/128      IP6 internal 70     rt3                  -         rt5(4)
2001:db8::4/128      IP6 internal 80     rt3                  -         rt4(4)
2001:db8::6/128      IP6 internal 80     rt3                  -         rt6(4)

IS-IS L1 IPv6 routing table:

 Prefix           Metric  Interface  Nexthop  Label(s)  
 -------------------------------------------------------
 2001:db8::1/128  60      -          rt1      -         
 2001:db8::3/128  60      -          rt3      -         
 2001:db8::4/128  80      -          rt3      16051     
 2001:db8::5/128  70      -          rt3      -         
 2001:db8::6/128  80      -          rt3      -         

test# test isis topology 12 root rt1 ti-lfa system-id rt3 ipv4-only
P-space (self):
 rt2
 rt4
 rt6
 rt8
 rt10

P-space (rt2):
 rt2
 rt4
 rt6
 rt8
 rt10

Q-space:
 rt3

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt6                  TE-IS        30     rt2                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
rt8                  TE-IS        40     rt2                  -         rt6(4)
10.0.255.6/32        IP TE        40     rt2                  -         rt6(4)
rt10                 TE-IS        50     rt2                  -         rt8(4)
10.0.255.8/32        IP TE        50     rt2                  -         rt8(4)
10.0.255.10/32       IP TE        60     rt2                  -         rt10(4)
rt7                  TE-IS        140    rt2                  -         rt8(4)
rt9                  TE-IS        150    rt2                  -         rt7(4)
10.0.255.7/32        IP TE        150    rt2                  -         rt7(4)
10.0.255.9/32        IP TE        160    rt2                  -         rt9(4)
rt5                  TE-IS        340    rt2                  -         rt7(4)
10.0.255.5/32        IP TE        350    rt2                  -         rt5(4)
rt3                  TE-IS        740    rt2                  -         rt5(4)
10.0.255.3/32        IP TE        750    rt2                  -         rt3(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)        
 -----------------------------------------------------------
 10.0.255.3/32  750     -          rt2      16080/17/16/16  
 10.0.255.5/32  350     -          rt2      16080/17/16     
 10.0.255.7/32  150     -          rt2      16080/17        
 10.0.255.9/32  160     -          rt2      16080/17/18     

test# test isis topology 13 root rt1 ti-lfa system-id rt3 ipv4-only
P-space (self):
 rt2

P-space (rt2):
 rt2
 rt4

Q-space:
 rt3
 rt4
 rt5
 rt6
 rt7

IS-IS paths to level-1 routers that speak IP
Vertex               Type         Metric Next-Hop             Interface Parent
rt1                                                                   
10.0.255.1/32        IP internal  0                                     rt1(4)
rt2                  TE-IS        10     rt2                  -         rt1(4)
rt4                  TE-IS        20     rt2                  -         rt2(4)
10.0.255.2/32        IP TE        20     rt2                  -         rt2(4)
rt3                  TE-IS        30     rt2                  -         rt4(4)
10.0.255.4/32        IP TE        30     rt2                  -         rt4(4)
rt5                  TE-IS        40     rt2                  -         rt3(4)
rt6                  TE-IS        40     rt2                  -         rt3(4)
10.0.255.3/32        IP TE        40     rt2                  -         rt3(4)
rt7                  TE-IS        50     rt2                  -         rt5(4)
                                                                        rt6(4)
10.0.255.5/32        IP TE        50     rt2                  -         rt5(4)
10.0.255.6/32        IP TE        50     rt2                  -         rt6(4)
10.0.255.7/32        IP TE        60     rt2                  -         rt7(4)

IS-IS L1 IPv4 routing table:

 Prefix         Metric  Interface  Nexthop  Label(s)  
 -----------------------------------------------------
 10.0.255.3/32  40      -          rt2      16040     
 10.0.255.5/32  50      -          rt2      16040     
 10.0.255.6/32  50      -          rt2      16040     
 10.0.255.7/32  60      -          rt2      16040     

test# 
end.
