# Skip pytests example directory
[pytest]

# For some reason log_cli_level does not work, but the CLI option does.
addopts = --junitxml=/tmp/topotests.xml --log-cli-level=INFO

log_cli_format = %(asctime)s,%(msecs)03d %(levelname)s: %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Place this in the [topolog.runlog] directory, update if needed
# XXX temp put directly in /tmp
log_file = /tmp/topotests-exec.log
log_file_level = DEBUG
log_file_format = %(asctime)s,%(msecs)03d %(levelname)s: %(name)s: %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

junit_logging = all
junit_log_passing_tests = true

norecursedirs = .git example_test example_topojson_test lib docker

# Markers
#
# Please consult the documentation and discuss with TSC members before applying
# any changes to this list.
markers =
	babeld: Tests that run against BABELD
	bfdd: Tests that run against BFDD
	bgpd: Tests that run against BGPD
	eigrpd: Tests that run against EIGRPD
	isisd: Tests that run against ISISD
	ldpd: Tests that run against LDPD
	nhrpd: Tests that run against NHRPD
	ospf6d: Tests that run against OSPF6D
	ospfd: Tests that run against OSPFD
	pathd: Tests that run against PATHD
	pbrd: Tests that run against PBRD
	pimd: Tests that run against PIMD
	ripd: Tests that run against RIPD
	ripngd: Tests that run against RIPNGD
	sharpd: Tests that run against SHARPD
	staticd: Tests that run against STATICD
	vrrpd: Tests that run against VRRPD
	snmp: Tests that run against snmp changes

[topogen]
# Default configuration values
#
# 'verbosity' controls how much data the underline systems will use to
# provide output (e.g. mininet output, test debug output etc...). The
# value is 'info', but can be changed to 'debug' to provide more details.
#verbosity = info

# Save logs to log file, by default logs will be displayed to console
#frrtest_log_dir = /tmp/topotests/

# Display router current configuration during test execution,
# by default configuration will not be shown
# show_router_config = True

# Default daemons binaries path.
#frrdir = /usr/lib/frr

# Default router type to use. Possible values are:
# 'frr'
#routertype = frr

# Default directory to store test results and run logs in
#rundir = /tmp/topotests

# Memory leak test reports path
# Enables and add an output path to memory leak tests.
# Example:
# memleak_path = /tmp/memleak_
# Output files will be named after the testname:
# /tmp/memleak_test_ospf_topo1.txt
#memleak_path =
