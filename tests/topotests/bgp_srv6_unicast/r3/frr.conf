!debug zebra kernel
!debug zebra nexthop
!debug zebra srv6

int r3-eth0
 ipv6 address fd00:0:0:3::2/64
 ip address 10.125.3.2/24
int r3-eth1
 ipv6 address fd00:300::1/64
 ip address 10.100.3.1/24
!
ipv6 route 2001:db8:1:1::/64 fd00:0:0:3::1

segment-routing
srv6
 locators
  locator default
   prefix 2001:db8:1:3::/64 block-len 40 node-len 24 func-bits 16

router bgp 65003
 bgp router-id 10.125.3.2
 no bgp ebgp-requires-policy
 no bgp network import-check
 neighbor fd00:0:0:3::1 remote-as external
 neighbor fd00:0:0:3::1 capability extended-nexthop
 segment-routing srv6
  locator default
 address-family ipv4 unicast
  neighbor fd00:0:0:3::1 encapsulation-srv6
  sid export auto
 exit-address-family
 address-family ipv6 unicast
  neighbor fd00:0:0:3::1 activate
  neighbor fd00:0:0:3::1 encapsulation-srv6
 exit-address-family
!
