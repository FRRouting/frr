service password-encryption
frr defaults traditional
debug keycrypt set backend gcrypt

hostname r4
password zebra
log stdout notifications

log commands
log file bgpd.log debug

#debug bgp vpn label
#debug bgp nht
#debug bgp zebra

router bgp 5226
   bgp router-id 4.4.4.4
   bgp cluster-id 4.4.4.4
   neighbor 2.2.2.2 remote-as 5226
   neighbor 2.2.2.2 update-source 4.4.4.4
   neighbor 2.2.2.2 password 2.4.0.0
   neighbor 192.168.3.2 remote-as 5226
   neighbor 192.168.3.2 update-source 192.168.3.1 
   neighbor 192.168.3.2 password 192.168.3.0
   neighbor 192.168.4.2 remote-as 5226
   neighbor 192.168.4.2 update-source 192.168.4.1
   neighbor 192.168.4.2 password 192.168.4.0

   address-family ipv4 unicast
     neighbor 2.2.2.2 activate
     no neighbor 192.168.3.2 activate
     neighbor 192.168.3.2 next-hop-self
     no neighbor 192.168.4.2 activate
     neighbor 192.168.4.2 next-hop-self
   exit-address-family

   neighbor 2001:db8:beed:2::2 remote-as 5226
   neighbor 2001:db8:beed:2::2 update-source 2001:db8:beed:4::4
   neighbor 2001:db8:beed:2::2 password 2.4.0.6

   neighbor 2001:db8:beee:3::2 remote-as 5226
   neighbor 2001:db8:beee:3::2 update-source 2001:db8:beee:3::1
   neighbor 2001:db8:beee:3::2 password 192.168.3.6

   neighbor 2001:db8:beee:4::2 remote-as 5226
   neighbor 2001:db8:beee:4::2 update-source 2001:db8:beee:4::1
   neighbor 2001:db8:beee:4::2 password 192.168.4.6

   address-family ipv6 unicast

     neighbor 2001:db8:beed:2::2 activate

     neighbor 2001:db8:beee:3::2 activate
     neighbor 2001:db8:beee:3::2 next-hop-self

     neighbor 2001:db8:beee:4::2 activate
     neighbor 2001:db8:beee:4::2 next-hop-self

   exit-address-family

end
