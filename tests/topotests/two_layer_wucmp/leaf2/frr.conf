int lo
  ip addr 10.0.0.2/32

route-map wcmp permit 10
  set extcommunity bandwidth num-multipaths

# Interfaces to spine1 (leaf2-eth0 to leaf2-eth31)
int leaf2-eth0
  ip addr 10.3.0.1/30
  ipv6 address 2001:db8:3:0::1/64
  no shut
int leaf2-eth1
  ip addr 10.3.1.1/30
  ipv6 address 2001:db8:3:1::1/64
  no shut
int leaf2-eth2
  ip addr 10.3.2.1/30
  ipv6 address 2001:db8:3:2::1/64
  no shut
int leaf2-eth3
  ip addr 10.3.3.1/30
  ipv6 address 2001:db8:3:3::1/64
  no shut
int leaf2-eth4
  ip addr 10.3.4.1/30
  ipv6 address 2001:db8:3:4::1/64
  no shut
int leaf2-eth5
  ip addr 10.3.5.1/30
  ipv6 address 2001:db8:3:5::1/64
  no shut
int leaf2-eth6
  ip addr 10.3.6.1/30
  ipv6 address 2001:db8:3:6::1/64
  no shut
int leaf2-eth7
  ip addr 10.3.7.1/30
  ipv6 address 2001:db8:3:7::1/64
  no shut
int leaf2-eth8
  ip addr 10.3.8.1/30
  ipv6 address 2001:db8:3:8::1/64
  no shut
int leaf2-eth9
  ip addr 10.3.9.1/30
  ipv6 address 2001:db8:3:9::1/64
  no shut
int leaf2-eth10
  ip addr 10.3.10.1/30
  ipv6 address 2001:db8:3:10::1/64
  no shut
int leaf2-eth11
  ip addr 10.3.11.1/30
  ipv6 address 2001:db8:3:11::1/64
  no shut
int leaf2-eth12
  ip addr 10.3.12.1/30
  ipv6 address 2001:db8:3:12::1/64
  no shut
int leaf2-eth13
  ip addr 10.3.13.1/30
  ipv6 address 2001:db8:3:13::1/64
  no shut
int leaf2-eth14
  ip addr 10.3.14.1/30
  ipv6 address 2001:db8:3:14::1/64
  no shut
int leaf2-eth15
  ip addr 10.3.15.1/30
  ipv6 address 2001:db8:3:15::1/64
  no shut
int leaf2-eth16
  ip addr 10.3.16.1/30
  ipv6 address 2001:db8:3:16::1/64
  no shut
int leaf2-eth17
  ip addr 10.3.17.1/30
  ipv6 address 2001:db8:3:17::1/64
  no shut
int leaf2-eth18
  ip addr 10.3.18.1/30
  ipv6 address 2001:db8:3:18::1/64
  no shut
int leaf2-eth19
  ip addr 10.3.19.1/30
  ipv6 address 2001:db8:3:19::1/64
  no shut
int leaf2-eth20
  ip addr 10.3.20.1/30
  ipv6 address 2001:db8:3:20::1/64
  no shut
int leaf2-eth21
  ip addr 10.3.21.1/30
  ipv6 address 2001:db8:3:21::1/64
  no shut
int leaf2-eth22
  ip addr 10.3.22.1/30
  ipv6 address 2001:db8:3:22::1/64
  no shut
int leaf2-eth23
  ip addr 10.3.23.1/30
  ipv6 address 2001:db8:3:23::1/64
  no shut
int leaf2-eth24
  ip addr 10.3.24.1/30
  ipv6 address 2001:db8:3:24::1/64
  no shut
int leaf2-eth25
  ip addr 10.3.25.1/30
  ipv6 address 2001:db8:3:25::1/64
  no shut
int leaf2-eth26
  ip addr 10.3.26.1/30
  ipv6 address 2001:db8:3:26::1/64
  no shut
int leaf2-eth27
  ip addr 10.3.27.1/30
  ipv6 address 2001:db8:3:27::1/64
  no shut
int leaf2-eth28
  ip addr 10.3.28.1/30
  ipv6 address 2001:db8:3:28::1/64
  no shut
int leaf2-eth29
  ip addr 10.3.29.1/30
  ipv6 address 2001:db8:3:29::1/64
  no shut
int leaf2-eth30
  ip addr 10.3.30.1/30
  ipv6 address 2001:db8:3:30::1/64
  no shut
int leaf2-eth31
  ip addr 10.3.31.1/30
  ipv6 address 2001:db8:3:31::1/64
  no shut

# Interfaces to spine2 (leaf2-eth32 to leaf2-eth63)
int leaf2-eth32
  ip addr 10.4.0.1/30
  ipv6 address 2001:db8:4:0::1/64
  no shut
int leaf2-eth33
  ip addr 10.4.1.1/30
  ipv6 address 2001:db8:4:1::1/64
  no shut
int leaf2-eth34
  ip addr 10.4.2.1/30
  ipv6 address 2001:db8:4:2::1/64
  no shut
int leaf2-eth35
  ip addr 10.4.3.1/30
  ipv6 address 2001:db8:4:3::1/64
  no shut
int leaf2-eth36
  ip addr 10.4.4.1/30
  ipv6 address 2001:db8:4:4::1/64
  no shut
int leaf2-eth37
  ip addr 10.4.5.1/30
  ipv6 address 2001:db8:4:5::1/64
  no shut
int leaf2-eth38
  ip addr 10.4.6.1/30
  ipv6 address 2001:db8:4:6::1/64
  no shut
int leaf2-eth39
  ip addr 10.4.7.1/30
  ipv6 address 2001:db8:4:7::1/64
  no shut
int leaf2-eth40
  ip addr 10.4.8.1/30
  ipv6 address 2001:db8:4:8::1/64
  no shut
int leaf2-eth41
  ip addr 10.4.9.1/30
  ipv6 address 2001:db8:4:9::1/64
  no shut
int leaf2-eth42
  ip addr 10.4.10.1/30
  ipv6 address 2001:db8:4:10::1/64
  no shut
int leaf2-eth43
  ip addr 10.4.11.1/30
  ipv6 address 2001:db8:4:11::1/64
  no shut
int leaf2-eth44
  ip addr 10.4.12.1/30
  ipv6 address 2001:db8:4:12::1/64
  no shut
int leaf2-eth45
  ip addr 10.4.13.1/30
  ipv6 address 2001:db8:4:13::1/64
  no shut
int leaf2-eth46
  ip addr 10.4.14.1/30
  ipv6 address 2001:db8:4:14::1/64
  no shut
int leaf2-eth47
  ip addr 10.4.15.1/30
  ipv6 address 2001:db8:4:15::1/64
  no shut
int leaf2-eth48
  ip addr 10.4.16.1/30
  ipv6 address 2001:db8:4:16::1/64
  no shut
int leaf2-eth49
  ip addr 10.4.17.1/30
  ipv6 address 2001:db8:4:17::1/64
  no shut
int leaf2-eth50
  ip addr 10.4.18.1/30
  ipv6 address 2001:db8:4:18::1/64
  no shut
int leaf2-eth51
  ip addr 10.4.19.1/30
  ipv6 address 2001:db8:4:19::1/64
  no shut
int leaf2-eth52
  ip addr 10.4.20.1/30
  ipv6 address 2001:db8:4:20::1/64
  no shut
int leaf2-eth53
  ip addr 10.4.21.1/30
  ipv6 address 2001:db8:4:21::1/64
  no shut
int leaf2-eth54
  ip addr 10.4.22.1/30
  ipv6 address 2001:db8:4:22::1/64
  no shut
int leaf2-eth55
  ip addr 10.4.23.1/30
  ipv6 address 2001:db8:4:23::1/64
  no shut
int leaf2-eth56
  ip addr 10.4.24.1/30
  ipv6 address 2001:db8:4:24::1/64
  no shut
int leaf2-eth57
  ip addr 10.4.25.1/30
  ipv6 address 2001:db8:4:25::1/64
  no shut
int leaf2-eth58
  ip addr 10.4.26.1/30
  ipv6 address 2001:db8:4:26::1/64
  no shut
int leaf2-eth59
  ip addr 10.4.27.1/30
  ipv6 address 2001:db8:4:27::1/64
  no shut
int leaf2-eth60
  ip addr 10.4.28.1/30
  ipv6 address 2001:db8:4:28::1/64
  no shut
int leaf2-eth61
  ip addr 10.4.29.1/30
  ipv6 address 2001:db8:4:29::1/64
  no shut
int leaf2-eth62
  ip addr 10.4.30.1/30
  ipv6 address 2001:db8:4:30::1/64
  no shut
int leaf2-eth63
  ip addr 10.4.31.1/30
  ipv6 address 2001:db8:4:31::1/64
  no shut

router bgp 65002
  bgp bestpath as-path multipath-relax
  bgp router-id 10.0.0.2
  no bgp ebgp-requires-policy
  timers bgp 5 60
  neighbor leaf2-eth0 interface remote-as external
  neighbor leaf2-eth1 interface remote-as external
  neighbor leaf2-eth2 interface remote-as external
  neighbor leaf2-eth3 interface remote-as external
  neighbor leaf2-eth4 interface remote-as external
  neighbor leaf2-eth5 interface remote-as external
  neighbor leaf2-eth6 interface remote-as external
  neighbor leaf2-eth7 interface remote-as external
  neighbor leaf2-eth8 interface remote-as external
  neighbor leaf2-eth9 interface remote-as external
  neighbor leaf2-eth10 interface remote-as external
  neighbor leaf2-eth11 interface remote-as external
  neighbor leaf2-eth12 interface remote-as external
  neighbor leaf2-eth13 interface remote-as external
  neighbor leaf2-eth14 interface remote-as external
  neighbor leaf2-eth15 interface remote-as external
  neighbor leaf2-eth16 interface remote-as external
  neighbor leaf2-eth17 interface remote-as external
  neighbor leaf2-eth18 interface remote-as external
  neighbor leaf2-eth19 interface remote-as external
  neighbor leaf2-eth20 interface remote-as external
  neighbor leaf2-eth21 interface remote-as external
  neighbor leaf2-eth22 interface remote-as external
  neighbor leaf2-eth23 interface remote-as external
  neighbor leaf2-eth24 interface remote-as external
  neighbor leaf2-eth25 interface remote-as external
  neighbor leaf2-eth26 interface remote-as external
  neighbor leaf2-eth27 interface remote-as external
  neighbor leaf2-eth28 interface remote-as external
  neighbor leaf2-eth29 interface remote-as external
  neighbor leaf2-eth30 interface remote-as external
  neighbor leaf2-eth31 interface remote-as external
  neighbor leaf2-eth32 interface remote-as external
  neighbor leaf2-eth33 interface remote-as external
  neighbor leaf2-eth34 interface remote-as external
  neighbor leaf2-eth35 interface remote-as external
  neighbor leaf2-eth36 interface remote-as external
  neighbor leaf2-eth37 interface remote-as external
  neighbor leaf2-eth38 interface remote-as external
  neighbor leaf2-eth39 interface remote-as external
  neighbor leaf2-eth40 interface remote-as external
  neighbor leaf2-eth41 interface remote-as external
  neighbor leaf2-eth42 interface remote-as external
  neighbor leaf2-eth43 interface remote-as external
  neighbor leaf2-eth44 interface remote-as external
  neighbor leaf2-eth45 interface remote-as external
  neighbor leaf2-eth46 interface remote-as external
  neighbor leaf2-eth47 interface remote-as external
  neighbor leaf2-eth48 interface remote-as external
  neighbor leaf2-eth49 interface remote-as external
  neighbor leaf2-eth50 interface remote-as external
  neighbor leaf2-eth51 interface remote-as external
  neighbor leaf2-eth52 interface remote-as external
  neighbor leaf2-eth53 interface remote-as external
  neighbor leaf2-eth54 interface remote-as external
  neighbor leaf2-eth55 interface remote-as external
  neighbor leaf2-eth56 interface remote-as external
  neighbor leaf2-eth57 interface remote-as external
  neighbor leaf2-eth58 interface remote-as external
  neighbor leaf2-eth59 interface remote-as external
  neighbor leaf2-eth60 interface remote-as external
  neighbor leaf2-eth61 interface remote-as external
  neighbor leaf2-eth62 interface remote-as external
  neighbor leaf2-eth63 interface remote-as external

 address-family ipv4 uni
  redistribute sharp
  neighbor leaf2-eth0 route-map wcmp out
  neighbor leaf2-eth1 route-map wcmp out
  neighbor leaf2-eth2 route-map wcmp out
  neighbor leaf2-eth3 route-map wcmp out
  neighbor leaf2-eth4 route-map wcmp out
  neighbor leaf2-eth5 route-map wcmp out
  neighbor leaf2-eth6 route-map wcmp out
  neighbor leaf2-eth7 route-map wcmp out
  neighbor leaf2-eth8 route-map wcmp out
  neighbor leaf2-eth9 route-map wcmp out
  neighbor leaf2-eth10 route-map wcmp out
  neighbor leaf2-eth11 route-map wcmp out
  neighbor leaf2-eth12 route-map wcmp out
  neighbor leaf2-eth13 route-map wcmp out
  neighbor leaf2-eth14 route-map wcmp out
  neighbor leaf2-eth15 route-map wcmp out
  neighbor leaf2-eth16 route-map wcmp out
  neighbor leaf2-eth17 route-map wcmp out
  neighbor leaf2-eth18 route-map wcmp out
  neighbor leaf2-eth19 route-map wcmp out
  neighbor leaf2-eth20 route-map wcmp out
  neighbor leaf2-eth21 route-map wcmp out
  neighbor leaf2-eth22 route-map wcmp out
  neighbor leaf2-eth23 route-map wcmp out
  neighbor leaf2-eth24 route-map wcmp out
  neighbor leaf2-eth25 route-map wcmp out
  neighbor leaf2-eth26 route-map wcmp out
  neighbor leaf2-eth27 route-map wcmp out
  neighbor leaf2-eth28 route-map wcmp out
  neighbor leaf2-eth29 route-map wcmp out
  neighbor leaf2-eth30 route-map wcmp out
  neighbor leaf2-eth31 route-map wcmp out
  neighbor leaf2-eth32 route-map wcmp out
  neighbor leaf2-eth33 route-map wcmp out
  neighbor leaf2-eth34 route-map wcmp out
  neighbor leaf2-eth35 route-map wcmp out
  neighbor leaf2-eth36 route-map wcmp out
  neighbor leaf2-eth37 route-map wcmp out
  neighbor leaf2-eth38 route-map wcmp out
  neighbor leaf2-eth39 route-map wcmp out
  neighbor leaf2-eth40 route-map wcmp out
  neighbor leaf2-eth41 route-map wcmp out
  neighbor leaf2-eth42 route-map wcmp out
  neighbor leaf2-eth43 route-map wcmp out
  neighbor leaf2-eth44 route-map wcmp out
  neighbor leaf2-eth45 route-map wcmp out
  neighbor leaf2-eth46 route-map wcmp out
  neighbor leaf2-eth47 route-map wcmp out
  neighbor leaf2-eth48 route-map wcmp out
  neighbor leaf2-eth49 route-map wcmp out
  neighbor leaf2-eth50 route-map wcmp out
  neighbor leaf2-eth51 route-map wcmp out
  neighbor leaf2-eth52 route-map wcmp out
  neighbor leaf2-eth53 route-map wcmp out
  neighbor leaf2-eth54 route-map wcmp out
  neighbor leaf2-eth55 route-map wcmp out
  neighbor leaf2-eth56 route-map wcmp out
  neighbor leaf2-eth57 route-map wcmp out
  neighbor leaf2-eth58 route-map wcmp out
  neighbor leaf2-eth59 route-map wcmp out
  neighbor leaf2-eth60 route-map wcmp out
  neighbor leaf2-eth61 route-map wcmp out
  neighbor leaf2-eth62 route-map wcmp out
  neighbor leaf2-eth63 route-map wcmp out
 exit
