int lo
  ip addr 10.0.0.3/32

route-map w-ecmp-cumulative permit 10
 set extcommunity bandwidth cumulative

# Interfaces to leaf1 (spine1-eth0 to spine1-eth31)
int spine1-eth0
  ip addr 10.1.0.2/30
  ipv6 address 2001:db8:1:0::2/64
  no shut
int spine1-eth1
  ip addr 10.1.1.2/30
  ipv6 address 2001:db8:1:1::2/64
  no shut
int spine1-eth2
  ip addr 10.1.2.2/30
  ipv6 address 2001:db8:1:2::2/64
  no shut
int spine1-eth3
  ip addr 10.1.3.2/30
  ipv6 address 2001:db8:1:3::2/64
  no shut
int spine1-eth4
  ip addr 10.1.4.2/30
  ipv6 address 2001:db8:1:4::2/64
  no shut
int spine1-eth5
  ip addr 10.1.5.2/30
  ipv6 address 2001:db8:1:5::2/64
  no shut
int spine1-eth6
  ip addr 10.1.6.2/30
  ipv6 address 2001:db8:1:6::2/64
  no shut
int spine1-eth7
  ip addr 10.1.7.2/30
  ipv6 address 2001:db8:1:7::2/64
  no shut
int spine1-eth8
  ip addr 10.1.8.2/30
  ipv6 address 2001:db8:1:8::2/64
  no shut
int spine1-eth9
  ip addr 10.1.9.2/30
  ipv6 address 2001:db8:1:9::2/64
  no shut
int spine1-eth10
  ip addr 10.1.10.2/30
  ipv6 address 2001:db8:1:10::2/64
  no shut
int spine1-eth11
  ip addr 10.1.11.2/30
  ipv6 address 2001:db8:1:11::2/64
  no shut
int spine1-eth12
  ip addr 10.1.12.2/30
  ipv6 address 2001:db8:1:12::2/64
  no shut
int spine1-eth13
  ip addr 10.1.13.2/30
  ipv6 address 2001:db8:1:13::2/64
  no shut
int spine1-eth14
  ip addr 10.1.14.2/30
  ipv6 address 2001:db8:1:14::2/64
  no shut
int spine1-eth15
  ip addr 10.1.15.2/30
  ipv6 address 2001:db8:1:15::2/64
  no shut
int spine1-eth16
  ip addr 10.1.16.2/30
  ipv6 address 2001:db8:1:16::2/64
  no shut
int spine1-eth17
  ip addr 10.1.17.2/30
  ipv6 address 2001:db8:1:17::2/64
  no shut
int spine1-eth18
  ip addr 10.1.18.2/30
  ipv6 address 2001:db8:1:18::2/64
  no shut
int spine1-eth19
  ip addr 10.1.19.2/30
  ipv6 address 2001:db8:1:19::2/64
  no shut
int spine1-eth20
  ip addr 10.1.20.2/30
  ipv6 address 2001:db8:1:20::2/64
  no shut
int spine1-eth21
  ip addr 10.1.21.2/30
  ipv6 address 2001:db8:1:21::2/64
  no shut
int spine1-eth22
  ip addr 10.1.22.2/30
  ipv6 address 2001:db8:1:22::2/64
  no shut
int spine1-eth23
  ip addr 10.1.23.2/30
  ipv6 address 2001:db8:1:23::2/64
  no shut
int spine1-eth24
  ip addr 10.1.24.2/30
  ipv6 address 2001:db8:1:24::2/64
  no shut
int spine1-eth25
  ip addr 10.1.25.2/30
  ipv6 address 2001:db8:1:25::2/64
  no shut
int spine1-eth26
  ip addr 10.1.26.2/30
  ipv6 address 2001:db8:1:26::2/64
  no shut
int spine1-eth27
  ip addr 10.1.27.2/30
  ipv6 address 2001:db8:1:27::2/64
  no shut
int spine1-eth28
  ip addr 10.1.28.2/30
  ipv6 address 2001:db8:1:28::2/64
  no shut
int spine1-eth29
  ip addr 10.1.29.2/30
  ipv6 address 2001:db8:1:29::2/64
  no shut
int spine1-eth30
  ip addr 10.1.30.2/30
  ipv6 address 2001:db8:1:30::2/64
  no shut
int spine1-eth31
  ip addr 10.1.31.2/30
  ipv6 address 2001:db8:1:31::2/64
  no shut

# Interfaces to leaf2 (spine1-eth32 to spine1-eth63)
int spine1-eth32
  ip addr 10.3.0.2/30
  ipv6 address 2001:db8:3:0::2/64
  no shut
int spine1-eth33
  ip addr 10.3.1.2/30
  ipv6 address 2001:db8:3:1::2/64
  no shut
int spine1-eth34
  ip addr 10.3.2.2/30
  ipv6 address 2001:db8:3:2::2/64
  no shut
int spine1-eth35
  ip addr 10.3.3.2/30
  ipv6 address 2001:db8:3:3::2/64
  no shut
int spine1-eth36
  ip addr 10.3.4.2/30
  ipv6 address 2001:db8:3:4::2/64
  no shut
int spine1-eth37
  ip addr 10.3.5.2/30
  ipv6 address 2001:db8:3:5::2/64
  no shut
int spine1-eth38
  ip addr 10.3.6.2/30
  ipv6 address 2001:db8:3:6::2/64
  no shut
int spine1-eth39
  ip addr 10.3.7.2/30
  ipv6 address 2001:db8:3:7::2/64
  no shut
int spine1-eth40
  ip addr 10.3.8.2/30
  ipv6 address 2001:db8:3:8::2/64
  no shut
int spine1-eth41
  ip addr 10.3.9.2/30
  ipv6 address 2001:db8:3:9::2/64
  no shut
int spine1-eth42
  ip addr 10.3.10.2/30
  ipv6 address 2001:db8:3:10::2/64
  no shut
int spine1-eth43
  ip addr 10.3.11.2/30
  ipv6 address 2001:db8:3:11::2/64
  no shut
int spine1-eth44
  ip addr 10.3.12.2/30
  ipv6 address 2001:db8:3:12::2/64
  no shut
int spine1-eth45
  ip addr 10.3.13.2/30
  ipv6 address 2001:db8:3:13::2/64
  no shut
int spine1-eth46
  ip addr 10.3.14.2/30
  ipv6 address 2001:db8:3:14::2/64
  no shut
int spine1-eth47
  ip addr 10.3.15.2/30
  ipv6 address 2001:db8:3:15::2/64
  no shut
int spine1-eth48
  ip addr 10.3.16.2/30
  ipv6 address 2001:db8:3:16::2/64
  no shut
int spine1-eth49
  ip addr 10.3.17.2/30
  ipv6 address 2001:db8:3:17::2/64
  no shut
int spine1-eth50
  ip addr 10.3.18.2/30
  ipv6 address 2001:db8:3:18::2/64
  no shut
int spine1-eth51
  ip addr 10.3.19.2/30
  ipv6 address 2001:db8:3:19::2/64
  no shut
int spine1-eth52
  ip addr 10.3.20.2/30
  ipv6 address 2001:db8:3:20::2/64
  no shut
int spine1-eth53
  ip addr 10.3.21.2/30
  ipv6 address 2001:db8:3:21::2/64
  no shut
int spine1-eth54
  ip addr 10.3.22.2/30
  ipv6 address 2001:db8:3:22::2/64
  no shut
int spine1-eth55
  ip addr 10.3.23.2/30
  ipv6 address 2001:db8:3:23::2/64
  no shut
int spine1-eth56
  ip addr 10.3.24.2/30
  ipv6 address 2001:db8:3:24::2/64
  no shut
int spine1-eth57
  ip addr 10.3.25.2/30
  ipv6 address 2001:db8:3:25::2/64
  no shut
int spine1-eth58
  ip addr 10.3.26.2/30
  ipv6 address 2001:db8:3:26::2/64
  no shut
int spine1-eth59
  ip addr 10.3.27.2/30
  ipv6 address 2001:db8:3:27::2/64
  no shut
int spine1-eth60
  ip addr 10.3.28.2/30
  ipv6 address 2001:db8:3:28::2/64
  no shut
int spine1-eth61
  ip addr 10.3.29.2/30
  ipv6 address 2001:db8:3:29::2/64
  no shut
int spine1-eth62
  ip addr 10.3.30.2/30
  ipv6 address 2001:db8:3:30::2/64
  no shut
int spine1-eth63
  ip addr 10.3.31.2/30
  ipv6 address 2001:db8:3:31::2/64
  no shut

router bgp 65100
  bgp bestpath as-path multipath-relax
  no bgp ebgp-requires-policy
  timers bgp 5 60
  bgp router-id 10.0.0.3
  neighbor spine1-eth0 interface remote-as external
  neighbor spine1-eth1 interface remote-as external
  neighbor spine1-eth2 interface remote-as external
  neighbor spine1-eth3 interface remote-as external
  neighbor spine1-eth4 interface remote-as external
  neighbor spine1-eth5 interface remote-as external
  neighbor spine1-eth6 interface remote-as external
  neighbor spine1-eth7 interface remote-as external
  neighbor spine1-eth8 interface remote-as external
  neighbor spine1-eth9 interface remote-as external
  neighbor spine1-eth10 interface remote-as external
  neighbor spine1-eth11 interface remote-as external
  neighbor spine1-eth12 interface remote-as external
  neighbor spine1-eth13 interface remote-as external
  neighbor spine1-eth14 interface remote-as external
  neighbor spine1-eth15 interface remote-as external
  neighbor spine1-eth16 interface remote-as external
  neighbor spine1-eth17 interface remote-as external
  neighbor spine1-eth18 interface remote-as external
  neighbor spine1-eth19 interface remote-as external
  neighbor spine1-eth20 interface remote-as external
  neighbor spine1-eth21 interface remote-as external
  neighbor spine1-eth22 interface remote-as external
  neighbor spine1-eth23 interface remote-as external
  neighbor spine1-eth24 interface remote-as external
  neighbor spine1-eth25 interface remote-as external
  neighbor spine1-eth26 interface remote-as external
  neighbor spine1-eth27 interface remote-as external
  neighbor spine1-eth28 interface remote-as external
  neighbor spine1-eth29 interface remote-as external
  neighbor spine1-eth30 interface remote-as external
  neighbor spine1-eth31 interface remote-as external
  neighbor spine1-eth32 interface remote-as external
  neighbor spine1-eth33 interface remote-as external
  neighbor spine1-eth34 interface remote-as external
  neighbor spine1-eth35 interface remote-as external
  neighbor spine1-eth36 interface remote-as external
  neighbor spine1-eth37 interface remote-as external
  neighbor spine1-eth38 interface remote-as external
  neighbor spine1-eth39 interface remote-as external
  neighbor spine1-eth40 interface remote-as external
  neighbor spine1-eth41 interface remote-as external
  neighbor spine1-eth42 interface remote-as external
  neighbor spine1-eth43 interface remote-as external
  neighbor spine1-eth44 interface remote-as external
  neighbor spine1-eth45 interface remote-as external
  neighbor spine1-eth46 interface remote-as external
  neighbor spine1-eth47 interface remote-as external
  neighbor spine1-eth48 interface remote-as external
  neighbor spine1-eth49 interface remote-as external
  neighbor spine1-eth50 interface remote-as external
  neighbor spine1-eth51 interface remote-as external
  neighbor spine1-eth52 interface remote-as external
  neighbor spine1-eth53 interface remote-as external
  neighbor spine1-eth54 interface remote-as external
  neighbor spine1-eth55 interface remote-as external
  neighbor spine1-eth56 interface remote-as external
  neighbor spine1-eth57 interface remote-as external
  neighbor spine1-eth58 interface remote-as external
  neighbor spine1-eth59 interface remote-as external
  neighbor spine1-eth60 interface remote-as external
  neighbor spine1-eth61 interface remote-as external
  neighbor spine1-eth62 interface remote-as external
  neighbor spine1-eth63 interface remote-as external
 address-family ipv4 uni
  neighbor spine1-eth0 route-map w-ecmp-cumulative out
  neighbor spine1-eth1 route-map w-ecmp-cumulative out
  neighbor spine1-eth2 route-map w-ecmp-cumulative out
  neighbor spine1-eth3 route-map w-ecmp-cumulative out
  neighbor spine1-eth4 route-map w-ecmp-cumulative out
  neighbor spine1-eth5 route-map w-ecmp-cumulative out
  neighbor spine1-eth6 route-map w-ecmp-cumulative out
  neighbor spine1-eth7 route-map w-ecmp-cumulative out
  neighbor spine1-eth8 route-map w-ecmp-cumulative out
  neighbor spine1-eth9 route-map w-ecmp-cumulative out
  neighbor spine1-eth10 route-map w-ecmp-cumulative out
  neighbor spine1-eth11 route-map w-ecmp-cumulative out
  neighbor spine1-eth12 route-map w-ecmp-cumulative out
  neighbor spine1-eth13 route-map w-ecmp-cumulative out
  neighbor spine1-eth14 route-map w-ecmp-cumulative out
  neighbor spine1-eth15 route-map w-ecmp-cumulative out
  neighbor spine1-eth16 route-map w-ecmp-cumulative out
  neighbor spine1-eth17 route-map w-ecmp-cumulative out
  neighbor spine1-eth18 route-map w-ecmp-cumulative out
  neighbor spine1-eth19 route-map w-ecmp-cumulative out
  neighbor spine1-eth20 route-map w-ecmp-cumulative out
  neighbor spine1-eth21 route-map w-ecmp-cumulative out
  neighbor spine1-eth22 route-map w-ecmp-cumulative out
  neighbor spine1-eth23 route-map w-ecmp-cumulative out
  neighbor spine1-eth24 route-map w-ecmp-cumulative out
  neighbor spine1-eth25 route-map w-ecmp-cumulative out
  neighbor spine1-eth26 route-map w-ecmp-cumulative out
  neighbor spine1-eth27 route-map w-ecmp-cumulative out
  neighbor spine1-eth28 route-map w-ecmp-cumulative out
  neighbor spine1-eth29 route-map w-ecmp-cumulative out
  neighbor spine1-eth30 route-map w-ecmp-cumulative out
  neighbor spine1-eth31 route-map w-ecmp-cumulative out
  neighbor spine1-eth32 route-map w-ecmp-cumulative out
  neighbor spine1-eth33 route-map w-ecmp-cumulative out
  neighbor spine1-eth34 route-map w-ecmp-cumulative out
  neighbor spine1-eth35 route-map w-ecmp-cumulative out
  neighbor spine1-eth36 route-map w-ecmp-cumulative out
  neighbor spine1-eth37 route-map w-ecmp-cumulative out
  neighbor spine1-eth38 route-map w-ecmp-cumulative out
  neighbor spine1-eth39 route-map w-ecmp-cumulative out
  neighbor spine1-eth40 route-map w-ecmp-cumulative out
  neighbor spine1-eth41 route-map w-ecmp-cumulative out
  neighbor spine1-eth42 route-map w-ecmp-cumulative out
  neighbor spine1-eth43 route-map w-ecmp-cumulative out
  neighbor spine1-eth44 route-map w-ecmp-cumulative out
  neighbor spine1-eth45 route-map w-ecmp-cumulative out
  neighbor spine1-eth46 route-map w-ecmp-cumulative out
  neighbor spine1-eth47 route-map w-ecmp-cumulative out
  neighbor spine1-eth48 route-map w-ecmp-cumulative out
  neighbor spine1-eth49 route-map w-ecmp-cumulative out
  neighbor spine1-eth50 route-map w-ecmp-cumulative out
  neighbor spine1-eth51 route-map w-ecmp-cumulative out
  neighbor spine1-eth52 route-map w-ecmp-cumulative out
  neighbor spine1-eth53 route-map w-ecmp-cumulative out
  neighbor spine1-eth54 route-map w-ecmp-cumulative out
  neighbor spine1-eth55 route-map w-ecmp-cumulative out
  neighbor spine1-eth56 route-map w-ecmp-cumulative out
  neighbor spine1-eth57 route-map w-ecmp-cumulative out
  neighbor spine1-eth58 route-map w-ecmp-cumulative out
  neighbor spine1-eth59 route-map w-ecmp-cumulative out
  neighbor spine1-eth60 route-map w-ecmp-cumulative out
  neighbor spine1-eth61 route-map w-ecmp-cumulative out
  neighbor spine1-eth62 route-map w-ecmp-cumulative out
  neighbor spine1-eth63 route-map w-ecmp-cumulative out
 exit
 !
 
!
