int lo
  ip addr 10.0.0.4/32

route-map w-ecmp-cumulative permit 10
 set extcommunity bandwidth cumulative

# Interfaces to leaf1 (spine2-eth0 to spine2-eth31)
int spine2-eth0
  ip addr 10.2.0.2/30
  ipv6 address 2001:db8:2:0::2/64
  no shut
int spine2-eth1
  ip addr 10.2.1.2/30
  ipv6 address 2001:db8:2:1::2/64
  no shut
int spine2-eth2
  ip addr 10.2.2.2/30
  ipv6 address 2001:db8:2:2::2/64
  no shut
int spine2-eth3
  ip addr 10.2.3.2/30
  ipv6 address 2001:db8:2:3::2/64
  no shut
int spine2-eth4
  ip addr 10.2.4.2/30
  ipv6 address 2001:db8:2:4::2/64
  no shut
int spine2-eth5
  ip addr 10.2.5.2/30
  ipv6 address 2001:db8:2:5::2/64
  no shut
int spine2-eth6
  ip addr 10.2.6.2/30
  ipv6 address 2001:db8:2:6::2/64
  no shut
int spine2-eth7
  ip addr 10.2.7.2/30
  ipv6 address 2001:db8:2:7::2/64
  no shut
int spine2-eth8
  ip addr 10.2.8.2/30
  ipv6 address 2001:db8:2:8::2/64
  no shut
int spine2-eth9
  ip addr 10.2.9.2/30
  ipv6 address 2001:db8:2:9::2/64
  no shut
int spine2-eth10
  ip addr 10.2.10.2/30
  ipv6 address 2001:db8:2:10::2/64
  no shut
int spine2-eth11
  ip addr 10.2.11.2/30
  ipv6 address 2001:db8:2:11::2/64
  no shut
int spine2-eth12
  ip addr 10.2.12.2/30
  ipv6 address 2001:db8:2:12::2/64
  no shut
int spine2-eth13
  ip addr 10.2.13.2/30
  ipv6 address 2001:db8:2:13::2/64
  no shut
int spine2-eth14
  ip addr 10.2.14.2/30
  ipv6 address 2001:db8:2:14::2/64
  no shut
int spine2-eth15
  ip addr 10.2.15.2/30
  ipv6 address 2001:db8:2:15::2/64
  no shut
int spine2-eth16
  ip addr 10.2.16.2/30
  ipv6 address 2001:db8:2:16::2/64
  no shut
int spine2-eth17
  ip addr 10.2.17.2/30
  ipv6 address 2001:db8:2:17::2/64
  no shut
int spine2-eth18
  ip addr 10.2.18.2/30
  ipv6 address 2001:db8:2:18::2/64
  no shut
int spine2-eth19
  ip addr 10.2.19.2/30
  ipv6 address 2001:db8:2:19::2/64
  no shut
int spine2-eth20
  ip addr 10.2.20.2/30
  ipv6 address 2001:db8:2:20::2/64
  no shut
int spine2-eth21
  ip addr 10.2.21.2/30
  ipv6 address 2001:db8:2:21::2/64
  no shut
int spine2-eth22
  ip addr 10.2.22.2/30
  ipv6 address 2001:db8:2:22::2/64
  no shut
int spine2-eth23
  ip addr 10.2.23.2/30
  ipv6 address 2001:db8:2:23::2/64
  no shut
int spine2-eth24
  ip addr 10.2.24.2/30
  ipv6 address 2001:db8:2:24::2/64
  no shut
int spine2-eth25
  ip addr 10.2.25.2/30
  ipv6 address 2001:db8:2:25::2/64
  no shut
int spine2-eth26
  ip addr 10.2.26.2/30
  ipv6 address 2001:db8:2:26::2/64
  no shut
int spine2-eth27
  ip addr 10.2.27.2/30
  ipv6 address 2001:db8:2:27::2/64
  no shut
int spine2-eth28
  ip addr 10.2.28.2/30
  ipv6 address 2001:db8:2:28::2/64
  no shut
int spine2-eth29
  ip addr 10.2.29.2/30
  ipv6 address 2001:db8:2:29::2/64
  no shut
int spine2-eth30
  ip addr 10.2.30.2/30
  ipv6 address 2001:db8:2:30::2/64
  no shut
int spine2-eth31
  ip addr 10.2.31.2/30
  ipv6 address 2001:db8:2:31::2/64
  no shut

# Interfaces to leaf2 (spine2-eth32 to spine2-eth63)
int spine2-eth32
  ip addr 10.4.0.2/30
  ipv6 address 2001:db8:4:0::2/64
  no shut
int spine2-eth33
  ip addr 10.4.1.2/30
  ipv6 address 2001:db8:4:1::2/64
  no shut
int spine2-eth34
  ip addr 10.4.2.2/30
  ipv6 address 2001:db8:4:2::2/64
  no shut
int spine2-eth35
  ip addr 10.4.3.2/30
  ipv6 address 2001:db8:4:3::2/64
  no shut
int spine2-eth36
  ip addr 10.4.4.2/30
  ipv6 address 2001:db8:4:4::2/64
  no shut
int spine2-eth37
  ip addr 10.4.5.2/30
  ipv6 address 2001:db8:4:5::2/64
  no shut
int spine2-eth38
  ip addr 10.4.6.2/30
  ipv6 address 2001:db8:4:6::2/64
  no shut
int spine2-eth39
  ip addr 10.4.7.2/30
  ipv6 address 2001:db8:4:7::2/64
  no shut
int spine2-eth40
  ip addr 10.4.8.2/30
  ipv6 address 2001:db8:4:8::2/64
  no shut
int spine2-eth41
  ip addr 10.4.9.2/30
  ipv6 address 2001:db8:4:9::2/64
  no shut
int spine2-eth42
  ip addr 10.4.10.2/30
  ipv6 address 2001:db8:4:10::2/64
  no shut
int spine2-eth43
  ip addr 10.4.11.2/30
  ipv6 address 2001:db8:4:11::2/64
  no shut
int spine2-eth44
  ip addr 10.4.12.2/30
  ipv6 address 2001:db8:4:12::2/64
  no shut
int spine2-eth45
  ip addr 10.4.13.2/30
  ipv6 address 2001:db8:4:13::2/64
  no shut
int spine2-eth46
  ip addr 10.4.14.2/30
  ipv6 address 2001:db8:4:14::2/64
  no shut
int spine2-eth47
  ip addr 10.4.15.2/30
  ipv6 address 2001:db8:4:15::2/64
  no shut
int spine2-eth48
  ip addr 10.4.16.2/30
  ipv6 address 2001:db8:4:16::2/64
  no shut
int spine2-eth49
  ip addr 10.4.17.2/30
  ipv6 address 2001:db8:4:17::2/64
  no shut
int spine2-eth50
  ip addr 10.4.18.2/30
  ipv6 address 2001:db8:4:18::2/64
  no shut
int spine2-eth51
  ip addr 10.4.19.2/30
  ipv6 address 2001:db8:4:19::2/64
  no shut
int spine2-eth52
  ip addr 10.4.20.2/30
  ipv6 address 2001:db8:4:20::2/64
  no shut
int spine2-eth53
  ip addr 10.4.21.2/30
  ipv6 address 2001:db8:4:21::2/64
  no shut
int spine2-eth54
  ip addr 10.4.22.2/30
  ipv6 address 2001:db8:4:22::2/64
  no shut
int spine2-eth55
  ip addr 10.4.23.2/30
  ipv6 address 2001:db8:4:23::2/64
  no shut
int spine2-eth56
  ip addr 10.4.24.2/30
  ipv6 address 2001:db8:4:24::2/64
  no shut
int spine2-eth57
  ip addr 10.4.25.2/30
  ipv6 address 2001:db8:4:25::2/64
  no shut
int spine2-eth58
  ip addr 10.4.26.2/30
  ipv6 address 2001:db8:4:26::2/64
  no shut
int spine2-eth59
  ip addr 10.4.27.2/30
  ipv6 address 2001:db8:4:27::2/64
  no shut
int spine2-eth60
  ip addr 10.4.28.2/30
  ipv6 address 2001:db8:4:28::2/64
  no shut
int spine2-eth61
  ip addr 10.4.29.2/30
  ipv6 address 2001:db8:4:29::2/64
  no shut
int spine2-eth62
  ip addr 10.4.30.2/30
  ipv6 address 2001:db8:4:30::2/64
  no shut
int spine2-eth63
  ip addr 10.4.31.2/30
  ipv6 address 2001:db8:4:31::2/64
  no shut

router bgp 65100
  bgp bestpath as-path multipath-relax
  bgp router-id 10.0.0.4
  no bgp ebgp-requires-policy
  timers bgp 5 60
  neighbor spine2-eth0 interface remote-as external
  neighbor spine2-eth1 interface remote-as external
  neighbor spine2-eth2 interface remote-as external
  neighbor spine2-eth3 interface remote-as external
  neighbor spine2-eth4 interface remote-as external
  neighbor spine2-eth5 interface remote-as external
  neighbor spine2-eth6 interface remote-as external
  neighbor spine2-eth7 interface remote-as external
  neighbor spine2-eth8 interface remote-as external
  neighbor spine2-eth9 interface remote-as external
  neighbor spine2-eth10 interface remote-as external
  neighbor spine2-eth11 interface remote-as external
  neighbor spine2-eth12 interface remote-as external
  neighbor spine2-eth13 interface remote-as external
  neighbor spine2-eth14 interface remote-as external
  neighbor spine2-eth15 interface remote-as external
  neighbor spine2-eth16 interface remote-as external
  neighbor spine2-eth17 interface remote-as external
  neighbor spine2-eth18 interface remote-as external
  neighbor spine2-eth19 interface remote-as external
  neighbor spine2-eth20 interface remote-as external
  neighbor spine2-eth21 interface remote-as external
  neighbor spine2-eth22 interface remote-as external
  neighbor spine2-eth23 interface remote-as external
  neighbor spine2-eth24 interface remote-as external
  neighbor spine2-eth25 interface remote-as external
  neighbor spine2-eth26 interface remote-as external
  neighbor spine2-eth27 interface remote-as external
  neighbor spine2-eth28 interface remote-as external
  neighbor spine2-eth29 interface remote-as external
  neighbor spine2-eth30 interface remote-as external
  neighbor spine2-eth31 interface remote-as external
  neighbor spine2-eth32 interface remote-as external
  neighbor spine2-eth33 interface remote-as external
  neighbor spine2-eth34 interface remote-as external
  neighbor spine2-eth35 interface remote-as external
  neighbor spine2-eth36 interface remote-as external
  neighbor spine2-eth37 interface remote-as external
  neighbor spine2-eth38 interface remote-as external
  neighbor spine2-eth39 interface remote-as external
  neighbor spine2-eth40 interface remote-as external
  neighbor spine2-eth41 interface remote-as external
  neighbor spine2-eth42 interface remote-as external
  neighbor spine2-eth43 interface remote-as external
  neighbor spine2-eth44 interface remote-as external
  neighbor spine2-eth45 interface remote-as external
  neighbor spine2-eth46 interface remote-as external
  neighbor spine2-eth47 interface remote-as external
  neighbor spine2-eth48 interface remote-as external
  neighbor spine2-eth49 interface remote-as external
  neighbor spine2-eth50 interface remote-as external
  neighbor spine2-eth51 interface remote-as external
  neighbor spine2-eth52 interface remote-as external
  neighbor spine2-eth53 interface remote-as external
  neighbor spine2-eth54 interface remote-as external
  neighbor spine2-eth55 interface remote-as external
  neighbor spine2-eth56 interface remote-as external
  neighbor spine2-eth57 interface remote-as external
  neighbor spine2-eth58 interface remote-as external
  neighbor spine2-eth59 interface remote-as external
  neighbor spine2-eth60 interface remote-as external
  neighbor spine2-eth61 interface remote-as external
  neighbor spine2-eth62 interface remote-as external
  neighbor spine2-eth63 interface remote-as external

 address-family ipv4 uni
  neighbor spine2-eth0 route-map w-ecmp-cumulative out
  neighbor spine2-eth1 route-map w-ecmp-cumulative out
  neighbor spine2-eth2 route-map w-ecmp-cumulative out
  neighbor spine2-eth3 route-map w-ecmp-cumulative out
  neighbor spine2-eth4 route-map w-ecmp-cumulative out
  neighbor spine2-eth5 route-map w-ecmp-cumulative out
  neighbor spine2-eth6 route-map w-ecmp-cumulative out
  neighbor spine2-eth7 route-map w-ecmp-cumulative out
  neighbor spine2-eth8 route-map w-ecmp-cumulative out
  neighbor spine2-eth9 route-map w-ecmp-cumulative out
  neighbor spine2-eth10 route-map w-ecmp-cumulative out
  neighbor spine2-eth11 route-map w-ecmp-cumulative out
  neighbor spine2-eth12 route-map w-ecmp-cumulative out
  neighbor spine2-eth13 route-map w-ecmp-cumulative out
  neighbor spine2-eth14 route-map w-ecmp-cumulative out
  neighbor spine2-eth15 route-map w-ecmp-cumulative out
  neighbor spine2-eth16 route-map w-ecmp-cumulative out
  neighbor spine2-eth17 route-map w-ecmp-cumulative out
  neighbor spine2-eth18 route-map w-ecmp-cumulative out
  neighbor spine2-eth19 route-map w-ecmp-cumulative out
  neighbor spine2-eth20 route-map w-ecmp-cumulative out
  neighbor spine2-eth21 route-map w-ecmp-cumulative out
  neighbor spine2-eth22 route-map w-ecmp-cumulative out
  neighbor spine2-eth23 route-map w-ecmp-cumulative out
  neighbor spine2-eth24 route-map w-ecmp-cumulative out
  neighbor spine2-eth25 route-map w-ecmp-cumulative out
  neighbor spine2-eth26 route-map w-ecmp-cumulative out
  neighbor spine2-eth27 route-map w-ecmp-cumulative out
  neighbor spine2-eth28 route-map w-ecmp-cumulative out
  neighbor spine2-eth29 route-map w-ecmp-cumulative out
  neighbor spine2-eth30 route-map w-ecmp-cumulative out
  neighbor spine2-eth31 route-map w-ecmp-cumulative out
  neighbor spine2-eth32 route-map w-ecmp-cumulative out
  neighbor spine2-eth33 route-map w-ecmp-cumulative out
  neighbor spine2-eth34 route-map w-ecmp-cumulative out
  neighbor spine2-eth35 route-map w-ecmp-cumulative out
  neighbor spine2-eth36 route-map w-ecmp-cumulative out
  neighbor spine2-eth37 route-map w-ecmp-cumulative out
  neighbor spine2-eth38 route-map w-ecmp-cumulative out
  neighbor spine2-eth39 route-map w-ecmp-cumulative out
  neighbor spine2-eth40 route-map w-ecmp-cumulative out
  neighbor spine2-eth41 route-map w-ecmp-cumulative out
  neighbor spine2-eth42 route-map w-ecmp-cumulative out
  neighbor spine2-eth43 route-map w-ecmp-cumulative out
  neighbor spine2-eth44 route-map w-ecmp-cumulative out
  neighbor spine2-eth45 route-map w-ecmp-cumulative out
  neighbor spine2-eth46 route-map w-ecmp-cumulative out
  neighbor spine2-eth47 route-map w-ecmp-cumulative out
  neighbor spine2-eth48 route-map w-ecmp-cumulative out
  neighbor spine2-eth49 route-map w-ecmp-cumulative out
  neighbor spine2-eth50 route-map w-ecmp-cumulative out
  neighbor spine2-eth51 route-map w-ecmp-cumulative out
  neighbor spine2-eth52 route-map w-ecmp-cumulative out
  neighbor spine2-eth53 route-map w-ecmp-cumulative out
  neighbor spine2-eth54 route-map w-ecmp-cumulative out
  neighbor spine2-eth55 route-map w-ecmp-cumulative out
  neighbor spine2-eth56 route-map w-ecmp-cumulative out
  neighbor spine2-eth57 route-map w-ecmp-cumulative out
  neighbor spine2-eth58 route-map w-ecmp-cumulative out
  neighbor spine2-eth59 route-map w-ecmp-cumulative out
  neighbor spine2-eth60 route-map w-ecmp-cumulative out
  neighbor spine2-eth61 route-map w-ecmp-cumulative out
  neighbor spine2-eth62 route-map w-ecmp-cumulative out
  neighbor spine2-eth63 route-map w-ecmp-cumulative out
 exit

!

