int lo
  ip addr 10.0.0.1/32

route-map wcmp permit 10
  set extcommunity bandwidth num-multipaths

# Interfaces to spine1 (leaf1-eth0 to leaf1-eth31)
int leaf1-eth0
  ip addr 10.1.0.1/30
  ipv6 address 2001:db8:1:0::1/64
  no shut
int leaf1-eth1
  ip addr 10.1.1.1/30
  ipv6 address 2001:db8:1:1::1/64
  no shut
int leaf1-eth2
  ip addr 10.1.2.1/30
  ipv6 address 2001:db8:1:2::1/64
  no shut
int leaf1-eth3
  ip addr 10.1.3.1/30
  ipv6 address 2001:db8:1:3::1/64
  no shut
int leaf1-eth4
  ip addr 10.1.4.1/30
  ipv6 address 2001:db8:1:4::1/64
  no shut
int leaf1-eth5
  ip addr 10.1.5.1/30
  ipv6 address 2001:db8:1:5::1/64
  no shut
int leaf1-eth6
  ip addr 10.1.6.1/30
  ipv6 address 2001:db8:1:6::1/64
  no shut
int leaf1-eth7
  ip addr 10.1.7.1/30
  ipv6 address 2001:db8:1:7::1/64
  no shut
int leaf1-eth8
  ip addr 10.1.8.1/30
  ipv6 address 2001:db8:1:8::1/64
  no shut
int leaf1-eth9
  ip addr 10.1.9.1/30
  ipv6 address 2001:db8:1:9::1/64
  no shut
int leaf1-eth10
  ip addr 10.1.10.1/30
  ipv6 address 2001:db8:1:10::1/64
  no shut
int leaf1-eth11
  ip addr 10.1.11.1/30
  ipv6 address 2001:db8:1:11::1/64
  no shut
int leaf1-eth12
  ip addr 10.1.12.1/30
  ipv6 address 2001:db8:1:12::1/64
  no shut
int leaf1-eth13
  ip addr 10.1.13.1/30
  ipv6 address 2001:db8:1:13::1/64
  no shut
int leaf1-eth14
  ip addr 10.1.14.1/30
  ipv6 address 2001:db8:1:14::1/64
  no shut
int leaf1-eth15
  ip addr 10.1.15.1/30
  ipv6 address 2001:db8:1:15::1/64
  no shut
int leaf1-eth16
  ip addr 10.1.16.1/30
  ipv6 address 2001:db8:1:16::1/64
  no shut
int leaf1-eth17
  ip addr 10.1.17.1/30
  ipv6 address 2001:db8:1:17::1/64
  no shut
int leaf1-eth18
  ip addr 10.1.18.1/30
  ipv6 address 2001:db8:1:18::1/64
  no shut
int leaf1-eth19
  ip addr 10.1.19.1/30
  ipv6 address 2001:db8:1:19::1/64
  no shut
int leaf1-eth20
  ip addr 10.1.20.1/30
  ipv6 address 2001:db8:1:20::1/64
  no shut
int leaf1-eth21
  ip addr 10.1.21.1/30
  ipv6 address 2001:db8:1:21::1/64
  no shut
int leaf1-eth22
  ip addr 10.1.22.1/30
  ipv6 address 2001:db8:1:22::1/64
  no shut
int leaf1-eth23
  ip addr 10.1.23.1/30
  ipv6 address 2001:db8:1:23::1/64
  no shut
int leaf1-eth24
  ip addr 10.1.24.1/30
  ipv6 address 2001:db8:1:24::1/64
  no shut
int leaf1-eth25
  ip addr 10.1.25.1/30
  ipv6 address 2001:db8:1:25::1/64
  no shut
int leaf1-eth26
  ip addr 10.1.26.1/30
  ipv6 address 2001:db8:1:26::1/64
  no shut
int leaf1-eth27
  ip addr 10.1.27.1/30
  ipv6 address 2001:db8:1:27::1/64
  no shut
int leaf1-eth28
  ip addr 10.1.28.1/30
  ipv6 address 2001:db8:1:28::1/64
  no shut
int leaf1-eth29
  ip addr 10.1.29.1/30
  ipv6 address 2001:db8:1:29::1/64
  no shut
int leaf1-eth30
  ip addr 10.1.30.1/30
  ipv6 address 2001:db8:1:30::1/64
  no shut
int leaf1-eth31
  ip addr 10.1.31.1/30
  ipv6 address 2001:db8:1:31::1/64
  no shut

# Interfaces to spine2 (leaf1-eth32 to leaf1-eth63)
int leaf1-eth32
  ip addr 10.2.0.1/30
  ipv6 address 2001:db8:2:0::1/64
  no shut
int leaf1-eth33
  ip addr 10.2.1.1/30
  ipv6 address 2001:db8:2:1::1/64
  no shut
int leaf1-eth34
  ip addr 10.2.2.1/30
  ipv6 address 2001:db8:2:2::1/64
  no shut
int leaf1-eth35
  ip addr 10.2.3.1/30
  ipv6 address 2001:db8:2:3::1/64
  no shut
int leaf1-eth36
  ip addr 10.2.4.1/30
  ipv6 address 2001:db8:2:4::1/64
  no shut
int leaf1-eth37
  ip addr 10.2.5.1/30
  ipv6 address 2001:db8:2:5::1/64
  no shut
int leaf1-eth38
  ip addr 10.2.6.1/30
  ipv6 address 2001:db8:2:6::1/64
  no shut
int leaf1-eth39
  ip addr 10.2.7.1/30
  ipv6 address 2001:db8:2:7::1/64
  no shut
int leaf1-eth40
  ip addr 10.2.8.1/30
  ipv6 address 2001:db8:2:8::1/64
  no shut
int leaf1-eth41
  ip addr 10.2.9.1/30
  ipv6 address 2001:db8:2:9::1/64
  no shut
int leaf1-eth42
  ip addr 10.2.10.1/30
  ipv6 address 2001:db8:2:10::1/64
  no shut
int leaf1-eth43
  ip addr 10.2.11.1/30
  ipv6 address 2001:db8:2:11::1/64
  no shut
int leaf1-eth44
  ip addr 10.2.12.1/30
  ipv6 address 2001:db8:2:12::1/64
  no shut
int leaf1-eth45
  ip addr 10.2.13.1/30
  ipv6 address 2001:db8:2:13::1/64
  no shut
int leaf1-eth46
  ip addr 10.2.14.1/30
  ipv6 address 2001:db8:2:14::1/64
  no shut
int leaf1-eth47
  ip addr 10.2.15.1/30
  ipv6 address 2001:db8:2:15::1/64
  no shut
int leaf1-eth48
  ip addr 10.2.16.1/30
  ipv6 address 2001:db8:2:16::1/64
  no shut
int leaf1-eth49
  ip addr 10.2.17.1/30
  ipv6 address 2001:db8:2:17::1/64
  no shut
int leaf1-eth50
  ip addr 10.2.18.1/30
  ipv6 address 2001:db8:2:18::1/64
  no shut
int leaf1-eth51
  ip addr 10.2.19.1/30
  ipv6 address 2001:db8:2:19::1/64
  no shut
int leaf1-eth52
  ip addr 10.2.20.1/30
  ipv6 address 2001:db8:2:20::1/64
  no shut
int leaf1-eth53
  ip addr 10.2.21.1/30
  ipv6 address 2001:db8:2:21::1/64
  no shut
int leaf1-eth54
  ip addr 10.2.22.1/30
  ipv6 address 2001:db8:2:22::1/64
  no shut
int leaf1-eth55
  ip addr 10.2.23.1/30
  ipv6 address 2001:db8:2:23::1/64
  no shut
int leaf1-eth56
  ip addr 10.2.24.1/30
  ipv6 address 2001:db8:2:24::1/64
  no shut
int leaf1-eth57
  ip addr 10.2.25.1/30
  ipv6 address 2001:db8:2:25::1/64
  no shut
int leaf1-eth58
  ip addr 10.2.26.1/30
  ipv6 address 2001:db8:2:26::1/64
  no shut
int leaf1-eth59
  ip addr 10.2.27.1/30
  ipv6 address 2001:db8:2:27::1/64
  no shut
int leaf1-eth60
  ip addr 10.2.28.1/30
  ipv6 address 2001:db8:2:28::1/64
  no shut
int leaf1-eth61
  ip addr 10.2.29.1/30
  ipv6 address 2001:db8:2:29::1/64
  no shut
int leaf1-eth62
  ip addr 10.2.30.1/30
  ipv6 address 2001:db8:2:30::1/64
  no shut
int leaf1-eth63
  ip addr 10.2.31.1/30
  ipv6 address 2001:db8:2:31::1/64
  no shut

router bgp 65001
  bgp bestpath as-path multipath-relax
  bgp router-id 10.0.0.1
  no bgp ebgp-requires-policy
  timers bgp 5 60
  neighbor leaf1-eth0 interface remote-as external
  neighbor leaf1-eth1 interface remote-as external
  neighbor leaf1-eth2 interface remote-as external
  neighbor leaf1-eth3 interface remote-as external
  neighbor leaf1-eth4 interface remote-as external
  neighbor leaf1-eth5 interface remote-as external
  neighbor leaf1-eth6 interface remote-as external
  neighbor leaf1-eth7 interface remote-as external
  neighbor leaf1-eth8 interface remote-as external
  neighbor leaf1-eth9 interface remote-as external
  neighbor leaf1-eth10 interface remote-as external
  neighbor leaf1-eth11 interface remote-as external
  neighbor leaf1-eth12 interface remote-as external
  neighbor leaf1-eth13 interface remote-as external
  neighbor leaf1-eth14 interface remote-as external
  neighbor leaf1-eth15 interface remote-as external
  neighbor leaf1-eth16 interface remote-as external
  neighbor leaf1-eth17 interface remote-as external
  neighbor leaf1-eth18 interface remote-as external
  neighbor leaf1-eth19 interface remote-as external
  neighbor leaf1-eth20 interface remote-as external
  neighbor leaf1-eth21 interface remote-as external
  neighbor leaf1-eth22 interface remote-as external
  neighbor leaf1-eth23 interface remote-as external
  neighbor leaf1-eth24 interface remote-as external
  neighbor leaf1-eth25 interface remote-as external
  neighbor leaf1-eth26 interface remote-as external
  neighbor leaf1-eth27 interface remote-as external
  neighbor leaf1-eth28 interface remote-as external
  neighbor leaf1-eth29 interface remote-as external
  neighbor leaf1-eth30 interface remote-as external
  neighbor leaf1-eth31 interface remote-as external
  neighbor leaf1-eth32 interface remote-as external
  neighbor leaf1-eth33 interface remote-as external
  neighbor leaf1-eth34 interface remote-as external
  neighbor leaf1-eth35 interface remote-as external
  neighbor leaf1-eth36 interface remote-as external
  neighbor leaf1-eth37 interface remote-as external
  neighbor leaf1-eth38 interface remote-as external
  neighbor leaf1-eth39 interface remote-as external
  neighbor leaf1-eth40 interface remote-as external
  neighbor leaf1-eth41 interface remote-as external
  neighbor leaf1-eth42 interface remote-as external
  neighbor leaf1-eth43 interface remote-as external
  neighbor leaf1-eth44 interface remote-as external
  neighbor leaf1-eth45 interface remote-as external
  neighbor leaf1-eth46 interface remote-as external
  neighbor leaf1-eth47 interface remote-as external
  neighbor leaf1-eth48 interface remote-as external
  neighbor leaf1-eth49 interface remote-as external
  neighbor leaf1-eth50 interface remote-as external
  neighbor leaf1-eth51 interface remote-as external
  neighbor leaf1-eth52 interface remote-as external
  neighbor leaf1-eth53 interface remote-as external
  neighbor leaf1-eth54 interface remote-as external
  neighbor leaf1-eth55 interface remote-as external
  neighbor leaf1-eth56 interface remote-as external
  neighbor leaf1-eth57 interface remote-as external
  neighbor leaf1-eth58 interface remote-as external
  neighbor leaf1-eth59 interface remote-as external
  neighbor leaf1-eth60 interface remote-as external
  neighbor leaf1-eth61 interface remote-as external
  neighbor leaf1-eth62 interface remote-as external
  neighbor leaf1-eth63 interface remote-as external
 address-family ipv4 uni
  neighbor leaf1-eth0 route-map wcmp out
  neighbor leaf1-eth1 route-map wcmp out
  neighbor leaf1-eth2 route-map wcmp out
  neighbor leaf1-eth3 route-map wcmp out
  neighbor leaf1-eth4 route-map wcmp out
  neighbor leaf1-eth5 route-map wcmp out
  neighbor leaf1-eth6 route-map wcmp out
  neighbor leaf1-eth7 route-map wcmp out
  neighbor leaf1-eth8 route-map wcmp out
  neighbor leaf1-eth9 route-map wcmp out
  neighbor leaf1-eth10 route-map wcmp out
  neighbor leaf1-eth11 route-map wcmp out
  neighbor leaf1-eth12 route-map wcmp out
  neighbor leaf1-eth13 route-map wcmp out
  neighbor leaf1-eth14 route-map wcmp out
  neighbor leaf1-eth15 route-map wcmp out
  neighbor leaf1-eth16 route-map wcmp out
  neighbor leaf1-eth17 route-map wcmp out
  neighbor leaf1-eth18 route-map wcmp out
  neighbor leaf1-eth19 route-map wcmp out
  neighbor leaf1-eth20 route-map wcmp out
  neighbor leaf1-eth21 route-map wcmp out
  neighbor leaf1-eth22 route-map wcmp out
  neighbor leaf1-eth23 route-map wcmp out
  neighbor leaf1-eth24 route-map wcmp out
  neighbor leaf1-eth25 route-map wcmp out
  neighbor leaf1-eth26 route-map wcmp out
  neighbor leaf1-eth27 route-map wcmp out
  neighbor leaf1-eth28 route-map wcmp out
  neighbor leaf1-eth29 route-map wcmp out
  neighbor leaf1-eth30 route-map wcmp out
  neighbor leaf1-eth31 route-map wcmp out
  neighbor leaf1-eth32 route-map wcmp out
  neighbor leaf1-eth33 route-map wcmp out
  neighbor leaf1-eth34 route-map wcmp out
  neighbor leaf1-eth35 route-map wcmp out
  neighbor leaf1-eth36 route-map wcmp out
  neighbor leaf1-eth37 route-map wcmp out
  neighbor leaf1-eth38 route-map wcmp out
  neighbor leaf1-eth39 route-map wcmp out
  neighbor leaf1-eth40 route-map wcmp out
  neighbor leaf1-eth41 route-map wcmp out
  neighbor leaf1-eth42 route-map wcmp out
  neighbor leaf1-eth43 route-map wcmp out
  neighbor leaf1-eth44 route-map wcmp out
  neighbor leaf1-eth45 route-map wcmp out
  neighbor leaf1-eth46 route-map wcmp out
  neighbor leaf1-eth47 route-map wcmp out
  neighbor leaf1-eth48 route-map wcmp out
  neighbor leaf1-eth49 route-map wcmp out
  neighbor leaf1-eth50 route-map wcmp out
  neighbor leaf1-eth51 route-map wcmp out
  neighbor leaf1-eth52 route-map wcmp out
  neighbor leaf1-eth53 route-map wcmp out
  neighbor leaf1-eth54 route-map wcmp out
  neighbor leaf1-eth55 route-map wcmp out
  neighbor leaf1-eth56 route-map wcmp out
  neighbor leaf1-eth57 route-map wcmp out
  neighbor leaf1-eth58 route-map wcmp out
  neighbor leaf1-eth59 route-map wcmp out
  neighbor leaf1-eth60 route-map wcmp out
  neighbor leaf1-eth61 route-map wcmp out
  neighbor leaf1-eth62 route-map wcmp out
  neighbor leaf1-eth63 route-map wcmp out
 exit 