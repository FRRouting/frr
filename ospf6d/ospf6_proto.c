/**Copyright(C)2003YasuhiroOhara**ThisfileispartofGNUZebra.**GNUZebraisfreesoftw
are;youcanredistributeitand/ormodifyit*underthetermsoftheGNUGeneralPublicLicense
aspublishedbythe*FreeSoftwareFoundation;eitherversion2,or(atyouroption)any*later
version.**GNUZebraisdistributedinthehopethatitwillbeuseful,but*WITHOUTANYWARRANT
Y;withouteventheimpliedwarrantyof*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.
SeetheGNU*GeneralPublicLicenseformoredetails.**YoushouldhavereceivedacopyoftheGN
UGeneralPublicLicensealong*withthisprogram;seethefileCOPYING;ifnot,writetotheFre
eSoftware*Foundation,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-1301USA*/#inclu
de<zebra.h>#include"log.h"#include"ospf6_proto.h"voidospf6_prefix_apply_mask(str
uctospf6_prefix*op){uint8_t*pnt,mask;intindex,offset;pnt=(uint8_t*)((caddr_t)op+
sizeof(structospf6_prefix));index=op->prefix_length/8;offset=op->prefix_length%8
;mask=0xff<<(8-offset);if(index>16){zlog_warn("Prefixlengthtoolong:%d",op->prefi
x_length);return;}/*nonzeromaskmeansnocheckforthisbytebecauseifitcontains*prefix
bitsitmustbethereforustowrite*/if(mask)pnt[index++]&=mask;while(index<OSPF6_PREF
IX_SPACE(op->prefix_length))pnt[index++]=0;}voidospf6_prefix_options_printbuf(ui
nt8_tprefix_options,char*buf,intsize){snprintf(buf,size,"xxx");}voidospf6_capabi
lity_printbuf(charcapability,char*buf,intsize){charw,v,e,b;w=(capability&OSPF6_R
OUTER_BIT_W?'W':'-');v=(capability&OSPF6_ROUTER_BIT_V?'V':'-');e=(capability&OSP
F6_ROUTER_BIT_E?'E':'-');b=(capability&OSPF6_ROUTER_BIT_B?'B':'-');snprintf(buf,
size,"----%c%c%c%c",w,v,e,b);}voidospf6_options_printbuf(uint8_t*options,char*bu
f,intsize){constchar*dc,*r,*n,*mc,*e,*v6;dc=(OSPF6_OPT_ISSET(options,OSPF6_OPT_D
C)?"DC":"--");r=(OSPF6_OPT_ISSET(options,OSPF6_OPT_R)?"R":"-");n=(OSPF6_OPT_ISSE
T(options,OSPF6_OPT_N)?"N":"-");mc=(OSPF6_OPT_ISSET(options,OSPF6_OPT_MC)?"MC":"
--");e=(OSPF6_OPT_ISSET(options,OSPF6_OPT_E)?"E":"-");v6=(OSPF6_OPT_ISSET(option
s,OSPF6_OPT_V6)?"V6":"--");snprintf(buf,size,"%s|%s|%s|%s|%s|%s",dc,r,n,mc,e,v6)
;}