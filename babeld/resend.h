/*Copyright(c)2007,2008byJuliuszChroboczekPermissionisherebygranted,freeofcharge
,toanypersonobtainingacopyofthissoftwareandassociateddocumentationfiles(the"Soft
ware"),todealintheSoftwarewithoutrestriction,includingwithoutlimitationtherights
touse,copy,modify,merge,publish,distribute,sublicense,and/orsellcopiesoftheSoftw
are,andtopermitpersonstowhomtheSoftwareisfurnishedtodoso,subjecttothefollowingco
nditions:Theabovecopyrightnoticeandthispermissionnoticeshallbeincludedinallcopie
sorsubstantialportionsoftheSoftware.THESOFTWAREISPROVIDED"ASIS",WITHOUTWARRANTYO
FANYKIND,EXPRESSORIMPLIED,INCLUDINGBUTNOTLIMITEDTOTHEWARRANTIESOFMERCHANTABILITY
,FITNESSFORAPARTICULARPURPOSEANDNONINFRINGEMENT.INNOEVENTSHALLTHEAUTHORSORCOPYRI
GHTHOLDERSBELIABLEFORANYCLAIM,DAMAGESOROTHERLIABILITY,WHETHERINANACTIONOFCONTRAC
T,TORTOROTHERWISE,ARISINGFROM,OUTOFORINCONNECTIONWITHTHESOFTWAREORTHEUSEOROTHERD
EALINGSINTHESOFTWARE.*/#ifndefBABEL_RESEND_H#defineBABEL_RESEND_H#defineREQUEST_
TIMEOUT65000#defineRESEND_MAX3#defineRESEND_REQUEST1#defineRESEND_UPDATE2structr
esend{unsignedcharkind;unsignedcharmax;unsignedshortdelay;structtimevaltime;unsi
gnedcharprefix[16];unsignedcharplen;unsignedshortseqno;unsignedcharid[8];structi
nterface*ifp;structresend*next;};externstructtimevalresend_time;structresend*fin
d_request(constunsignedchar*prefix,unsignedcharplen,structresend**previous_retur
n);voidflush_resends(structneighbour*neigh);intrecord_resend(intkind,constunsign
edchar*prefix,unsignedcharplen,unsignedshortseqno,constunsignedchar*id,structint
erface*ifp,intdelay);intunsatisfied_request(constunsignedchar*prefix,unsignedcha
rplen,unsignedshortseqno,constunsignedchar*id);intrequest_redundant(structinterf
ace*ifp,constunsignedchar*prefix,unsignedcharplen,unsignedshortseqno,constunsign
edchar*id);intsatisfy_request(constunsignedchar*prefix,unsignedcharplen,unsigned
shortseqno,constunsignedchar*id,structinterface*ifp);voidexpire_resend(void);voi
drecompute_resend_time(void);voiddo_resend(void);#endif/*BABEL_RESEND_H*/