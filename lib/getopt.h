/*Declarationsforgetopt.*Copyright(C)1989,90,91,92,93,94,96,97FreeSoftwareFounda
tion,Inc.**NOTE:ThecanonicalsourceofthisfileismaintainedwiththeGNUCLibrary.*Bugs
canbereportedtobug-glibc@gnu.org.**Thisprogramisfreesoftware;youcanredistributei
tand/ormodifyit*underthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*FreeSo
ftwareFoundation;eitherversion2,or(atyouroption)any*laterversion.**Thisprogramis
distributedinthehopethatitwillbeuseful,*butWITHOUTANYWARRANTY;withouteventheimpl
iedwarrantyof*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe*GNUGeneralPub
licLicenseformoredetails.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicens
ealong*withthisprogram;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation
,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-1301USA*/#ifndef_GETOPT_H#define_GE
TOPT_H1/**Theoperatingsystemmayormaynotprovidegetopt_long(),andif*soitmayormayno
tbeaversionwearewillingtouse.Our*strategyistodeclaregetopthere,andthenprovidecod
eunless*thesuppliedversionisadequate.Thedifficultcaseiswhena*declarationforgetop
tisprovided,asourdeclarationmustmatch.**XXXArguablythisversionshouldbenameddiffe
rently,andthe*localnamesdefinedtorefertothesystemversionwhenwechoose*tousethesys
temversion.*/#ifdef__cplusplusextern"C"{#endif/*Forcommunicationfrom`getopt'toth
ecaller.When`getopt'findsanoptionthattakesanargument,theargumentvalueisreturnedh
ere.Also,when`ordering'isRETURN_IN_ORDER,eachnon-optionARGV-elementisreturnedher
e.*/externchar*optarg;/*IndexinARGVofthenextelementtobescanned.Thisisusedforcomm
unicationtoandfromthecallerandforcommunicationbetweensuccessivecallsto`getopt'.O
nentryto`getopt',zeromeansthisisthefirstcall;initialize.When`getopt'returns-1,th
isistheindexofthefirstofthenon-optionelementsthatthecallershoulditselfscan.Other
wise,`optind'communicatesfromonecalltothenexthowmuchofARGVhasbeenscannedsofar.*/
externintoptind;/*Callersstorezeroheretoinhibittheerrormessage`getopt'printsforu
nrecognizedoptions.*/externintopterr;/*Settoanoptioncharacterwhichwasunrecognize
d.*/externintoptopt;/*Describethelong-namedoptionsrequestedbytheapplication.TheL
ONG_OPTIONSargumenttogetopt_longorgetopt_long_onlyisavectorof`structoption'termi
natedbyanelementcontaininganamewhichiszero.Thefield`has_arg'is:no_argument(or0)i
ftheoptiondoesnottakeanargument,required_argument(or1)iftheoptionrequiresanargum
ent,optional_argument(or2)iftheoptiontakesanoptionalargument.Ifthefield`flag'isn
otNULL,itpointstoavariablethatissettothevaluegiveninthefield`val'whentheoptionis
found,butleftunchangediftheoptionisnotfound.Tohavealong-namedoptiondosomethingot
herthansetan`int'toacompiled-inconstant,suchassetavaluefrom`optarg',settheoption
's`flag'fieldtozeroandits`val'fieldtoanonzerovalue(theequivalentsingle-letteropt
ioncharacter,ifthereisone).Forlongoptionsthathaveazero`flag'field,`getopt'return
sthecontentsofthe`val'field.*/structoption{#ifdefined(__STDC__)&&__STDC__constch
ar*name;#elsechar*name;#endif/*has_argcan'tbeanenumbecausesomecompilerscomplaina
bouttypemismatchesinallthecodethatassumesitisanint.*/inthas_arg;int*flag;intval;
};/*Namesforthevaluesofthe`has_arg'fieldof`structoption'.*/#defineno_argument0#d
efinerequired_argument1#defineoptional_argument2#ifdefined(__STDC__)&&__STDC__#i
fREALLY_NEED_PLAIN_GETOPT/**getoptisdefinedinPOSIX.2.Assumethatifthesystemdefine
s*getoptthatitcomplieswithPOSIX.2.Ifnot,anautoconftest*shouldbewrittentodefineNO
NPOSIX_GETOPT_DEFINITION.*/#ifndefNONPOSIX_GETOPT_DEFINITIONexternintgetopt(inta
rgc,char*const*argv,constchar*shortopts);#else/*NONPOSIX_GETOPT_DEFINITION*/exte
rnintgetopt(void);#endif/*NONPOSIX_GETOPT_DEFINITION*/#endifexternintgetopt_long
(intargc,char*const*argv,constchar*shortopts,conststructoption*longopts,int*long
ind);externintgetopt_long_only(intargc,char*const*argv,constchar*shortopts,const
structoption*longopts,int*longind);/*Internalonly.Usersshouldnotcallthisdirectly
.*/externint_getopt_internal(intargc,char*const*argv,constchar*shortopts,constst
ructoption*longopts,int*longind,intlong_only);#else/*not__STDC__*/#ifdefREALLY_N
EED_PLAIN_GETOPTexternintgetopt();#endif/*REALLY_NEED_PLAIN_GETOPT*/externintget
opt_long();externintgetopt_long_only();externint_getopt_internal();#endif/*__STD
C__*/#ifdef__cplusplus}#endif#endif/*getopt.h*/