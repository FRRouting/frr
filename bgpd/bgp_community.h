/*Communityattributerelatedfunctions.*Copyright(C)1998KunihiroIshiguro**Thisfile
ispartofGNUZebra.**GNUZebraisfreesoftware;youcanredistributeitand/ormodifyit*und
erthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*FreeSoftwareFoundation;ei
therversion2,or(atyouroption)any*laterversion.**GNUZebraisdistributedinthehopeth
atitwillbeuseful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof*MERCHANT
ABILITYorFITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicenseformoredetai
ls.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthisprogram
;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51FranklinSt,Fif
thFloor,Boston,MA02110-1301USA*/#ifndef_QUAGGA_BGP_COMMUNITY_H#define_QUAGGA_BGP
_COMMUNITY_H#include"lib/json.h"/*Communitiesattribute.*/structcommunity{/*Refer
encecountofcommunitiesvalue.*/unsignedlongrefcnt;/*Communitiesvaluesize.*/intsiz
e;/*Communitiesvalue.*/uint32_t*val;/*Communitiesasajsonobject*/json_object*json
;/*Stringofcommunityattribute.Thissringisusedbyvtyoutputandexpandedcommunity-lis
tforregularexpressionmatch.*/char*str;};/*Well-knowncommunitiesvalue.*/#defineCO
MMUNITY_INTERNET0x0#defineCOMMUNITY_NO_EXPORT0xFFFFFF01#defineCOMMUNITY_NO_ADVER
TISE0xFFFFFF02#defineCOMMUNITY_NO_EXPORT_SUBCONFED0xFFFFFF03#defineCOMMUNITY_LOC
AL_AS0xFFFFFF03#defineCOMMUNITY_GSHUT0xFFFF0000/*Macrosofcommunityattribute.*/#d
efinecom_length(X)((X)->size*4)#definecom_lastval(X)((X)->val+(X)->size-1)#defin
ecom_nthval(X,n)((X)->val+(n))/*Prototypesofcommunitiesattributefunctions.*/exte
rnvoidcommunity_init(void);externvoidcommunity_finish(void);externvoidcommunity_
free(structcommunity*);externstructcommunity*community_uniq_sort(structcommunity
*);externstructcommunity*community_parse(uint32_t*,unsignedshort);externstructco
mmunity*community_intern(structcommunity*);externvoidcommunity_unintern(structco
mmunity**);externchar*community_str(structcommunity*,boolmake_json);externunsign
edintcommunity_hash_make(structcommunity*);externstructcommunity*community_str2c
om(constchar*);externintcommunity_match(conststructcommunity*,conststructcommuni
ty*);externintcommunity_cmp(conststructcommunity*,conststructcommunity*);externs
tructcommunity*community_merge(structcommunity*,structcommunity*);externstructco
mmunity*community_delete(structcommunity*,structcommunity*);externstructcommunit
y*community_dup(structcommunity*);externintcommunity_include(structcommunity*,ui
nt32_t);externvoidcommunity_del_val(structcommunity*,uint32_t*);externunsignedlo
ngcommunity_count(void);externstructhash*community_hash(void);externuint32_tcomm
unity_val_get(structcommunity*com,inti);#endif/*_QUAGGA_BGP_COMMUNITY_H*/