/**BGPMultipath*Copyright(C)2010GoogleInc.**ThisfileispartofQuagga**Quaggaisfree
software;youcanredistributeitand/ormodifyit*underthetermsoftheGNUGeneralPublicLi
censeaspublishedbythe*FreeSoftwareFoundation;eitherversion2,or(atyouroption)any*
laterversion.**Quaggaisdistributedinthehopethatitwillbeuseful,but*WITHOUTANYWARR
ANTY;withouteventheimpliedwarrantyof*MERCHANTABILITYorFITNESSFORAPARTICULARPURPO
SE.SeetheGNU*GeneralPublicLicenseformoredetails.**Youshouldhavereceivedacopyofth
eGNUGeneralPublicLicensealong*withthisprogram;seethefileCOPYING;ifnot,writetothe
FreeSoftware*Foundation,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-1301USA*/#if
ndef_QUAGGA_BGP_MPATH_H#define_QUAGGA_BGP_MPATH_H/*Supplementalinformationlinked
tobgp_infoforkeepingtrackof*multipathselections,lazilyallocatedtosavememory*/str
uctbgp_info_mpath{/*Pointstothefirstmultipath(onbestpath)orthenextmultipath*/str
uctbgp_info_mpath*mp_next;/*PointstothepreviousmultipathorNULLonbestpath*/struct
bgp_info_mpath*mp_prev;/*Pointstobgp_infoassociatedwiththismultipathinfo*/struct
bgp_info*mp_info;/*Whenattachedtobestpath,thenumberofselectedmultipaths*/uint32_
tmp_count;/*Aggregatedattributeforadvertisingmultipathroute*/structattr*mp_attr;
};/*Functionstosupportmaximum-pathsconfiguration*/externintbgp_maximum_paths_set
(structbgp*,afi_t,safi_t,int,uint16_t,uint16_t);externintbgp_maximum_paths_unset
(structbgp*,afi_t,safi_t,int);/*Functionsusedbybgp_best_selectiontorecordcurrent
*multipathselections*/externintbgp_info_nexthop_cmp(structbgp_info*bi1,structbgp
_info*bi2);externvoidbgp_mp_list_init(structlist*);externvoidbgp_mp_list_clear(s
tructlist*);externvoidbgp_mp_list_add(structlist*,structbgp_info*);externvoidbgp
_mp_dmed_deselect(structbgp_info*);externvoidbgp_info_mpath_update(structbgp_nod
e*,structbgp_info*,structbgp_info*,structlist*,structbgp_maxpaths_cfg*);externvo
idbgp_info_mpath_aggregate_update(structbgp_info*,structbgp_info*);/*Unlinkandfr
eemultipathinformationassociatedwithabgp_info*/externvoidbgp_info_mpath_dequeue(
structbgp_info*);externvoidbgp_info_mpath_free(structbgp_info_mpath**);/*Walklis
tofmultipathsassociatedwithabestpath*/externstructbgp_info*bgp_info_mpath_first(
structbgp_info*);externstructbgp_info*bgp_info_mpath_next(structbgp_info*);/*Acc
essorsformultipathinformation*/externuint32_tbgp_info_mpath_count(structbgp_info
*);externstructattr*bgp_info_mpath_attr(structbgp_info*);#endif/*_QUAGGA_BGP_MPA
TH_H*/