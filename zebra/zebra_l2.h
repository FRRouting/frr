/**ZebraLayer-2interfaceDatastructuresanddefinitions*Copyright(C)2016,2017Cumulu
sNetworks,Inc.**ThisfileispartofFRR.**FRRisfreesoftware;youcanredistributeitand/
ormodifyit*underthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*FreeSoftwar
eFoundation;eitherversion2,or(atyouroption)any*laterversion.**FRRisdistributedin
thehopethatitwillbeuseful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof
*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicensefor
moredetails.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicense*alongwithFR
R;seethefileCOPYING.Ifnot,writetotheFree*SoftwareFoundation,Inc.,59TemplePlace-S
uite330,Boston,MA*02111-1307,USA.*/#ifndef_ZEBRA_L2_H#define_ZEBRA_L2_H#include<
zebra.h>#include"if.h"#include"vlan.h"#include"vxlan.h"/*zebraL2interfaceinforma
tion-bridgeslave(linkagetobridge)*/structzebra_l2info_brslave{ifindex_tbridge_if
index;/*BridgeMaster*/structinterface*br_if;/*Pointertomaster*/};/*zebraL2interf
aceinformation-bridgeinterface*/structzebra_l2info_bridge{uint8_tvlan_aware;/*VL
AN-awarebridge?*/};/*zebraL2interfaceinformation-VLANinterface*/structzebra_l2in
fo_vlan{vlanid_tvid;/*VLANid*/};/*zebraL2interfaceinformation-VXLANinterface*/st
ructzebra_l2info_vxlan{vni_tvni;/*VNI*/structin_addrvtep_ip;/*LocaltunnelIP*/vla
nid_taccess_vlan;/*AccessVLAN-forVLAN-awarebridge.*/};unionzebra_l2if_info{struc
tzebra_l2info_bridgebr;structzebra_l2info_vlanvl;structzebra_l2info_vxlanvxl;};/
*NOTE:Thesemacrosaretobeinvokedonlyinthe"correct"context.*IOW,themacroVNI_FROM_Z
EBRA_IF()willassumetheinterfaceis*oftypeZEBRA_IF_VXLAN.*/#defineVNI_FROM_ZEBRA_I
F(zif)(zif)->l2info.vxl.vni#defineVLAN_ID_FROM_ZEBRA_IF(zif)(zif)->l2info.vl.vid
#defineIS_ZEBRA_IF_BRIDGE_VLAN_AWARE(zif)((zif)->l2info.br.vlan_aware==1)externv
oidzebra_l2_map_slave_to_bridge(structzebra_l2info_brslave*br_slave);externvoidz
ebra_l2_unmap_slave_from_bridge(structzebra_l2info_brslave*br_slave);externvoidz
ebra_l2_bridge_add_update(structinterface*ifp,structzebra_l2info_bridge*bridge_i
nfo,intadd);externvoidzebra_l2_bridge_del(structinterface*ifp);externvoidzebra_l
2_vlanif_update(structinterface*ifp,structzebra_l2info_vlan*vlan_info);externvoi
dzebra_l2_vxlanif_add_update(structinterface*ifp,structzebra_l2info_vxlan*vxlan_
info,intadd);externvoidzebra_l2_vxlanif_update_access_vlan(structinterface*ifp,v
lanid_taccess_vlan);externvoidzebra_l2_vxlanif_del(structinterface*ifp);externvo
idzebra_l2if_update_bridge_slave(structinterface*ifp,ifindex_tbridge_ifindex);#e
ndif/*_ZEBRA_L2_H*/