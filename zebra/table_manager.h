/*zebratableManagerforroutingtableidentifiermanagement*Copyright(C)20186WIND**Th
isprogramisfreesoftware;youcanredistributeitand/ormodifyit*underthetermsoftheGNU
GeneralPublicLicenseaspublishedbytheFree*SoftwareFoundation;eitherversion2oftheL
icense,or(atyouroption)*anylaterversion.**Thisprogramisdistributedinthehopethati
twillbeuseful,butWITHOUT*ANYWARRANTY;withouteventheimpliedwarrantyofMERCHANTABIL
ITYor*FITNESSFORAPARTICULARPURPOSE.SeetheGNUGeneralPublicLicensefor*moredetails.
**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthisprogram;se
ethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51FranklinSt,FifthF
loor,Boston,MA02110-1301USA*/#ifndef_TABLE_MANAGER_H#define_TABLE_MANAGER_H#incl
ude<stdint.h>#include"lib/linklist.h"#include"lib/thread.h"/**Tablechunkstruct*C
lientdaemonwhichthechunkbelongstocanbeidentifiedbyeither*proto(daemonprotocol)+i
nstance+VRF.*Iftheclientthenpassesanon-emptyvaluetokeepfieldwhenitrequests*forch
unks,thechunkswon'tbegarbagecollectedandtheclientwillbe*responsibleofitsrelease.
*Otherwise,ifthekeepfieldisnotset(value0)forthechunk,itwillbe*automaticallyrelea
sedwhentheclientdisconnectsorwhenitreconnects*(incaseitdiedunexpectedly,wecankno
wit'sthesamebecauseitwillhave*thesameprotoandinstancevalues)*/structtable_manage
r_chunk{vrf_id_tvrf_id;uint8_tproto;uint16_tinstance;uint32_tstart;/*FirsttableR
TIDofthechunk*/uint32_tend;/*LasttableRTIDofthechunk*/};/**Maintablemanagerstruc
t*Holdsalinkedlistoftablechunks.*/structtable_manager{structlist*lc_list;};voidt
able_manager_enable(ns_id_tns_id);structtable_manager_chunk*assign_table_chunk(u
int8_tproto,uint16_tinstance,uint32_tsize);intrelease_table_chunk(uint8_tproto,u
int16_tinstance,uint32_tstart,uint32_tend);intrelease_daemon_table_chunks(uint8_
tproto,uint16_tinstance);voidtable_manager_disable(ns_id_tns_id);#endif/*_TABLE_
MANAGER_H*/