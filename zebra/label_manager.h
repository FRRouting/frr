/**LabelManagerheader**Copyright(C)2017byBingenEguzkitza,*VoltaNetworksInc.**Thi
sfileispartofFreeRangeRouting(FRR)**FRRisfreesoftware;youcanredistributeitand/or
modifyit*underthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*FreeSoftwareF
oundation;eitherversion2,or(atyouroption)any*laterversion.**FRRisdistributedinth
ehopethatitwillbeuseful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof*M
ERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicenseformo
redetails.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthis
program;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51Frankli
nSt,FifthFloor,Boston,MA02110-1301USA*/#ifndef_LABEL_MANAGER_H#define_LABEL_MANA
GER_H#include<stdint.h>#include"lib/linklist.h"#include"lib/thread.h"#defineNO_P
ROTO0/**Labelchunkstruct*Clientdaemonwhichthechunkbelongstocanbeidentifiedbyeith
er*proto(daemonprotocol)+instance.*Iftheclientthenpassesanon-emptyvaluetokeepfie
ldwhenitrequests*forchunks,thechunkswon'tbegarbagecollectedandtheclientwillbe*re
sponsibleofitsrelease.*Otherwise,ifthekeepfieldisnotset(value0)forthechunk,itwil
lbe*automaticallyreleasedwhentheclientdisconnectsorwhenitreconnects*(incaseitdie
dunexpectedly,wecanknowit'sthesamebecauseitwillhave*thesameprotoandinstancevalue
s)*/structlabel_manager_chunk{uint8_tproto;unsignedshortinstance;uint8_tkeep;uin
t32_tstart;/*Firstlabelofthechunk*/uint32_tend;/*Lastlabelofthechunk*/};/**Mainl
abelmanagerstruct*Holdsalinkedlistoflabelchunks.*/structlabel_manager{structlist
*lc_list;};boollm_is_external;intzread_relay_label_manager_request(intcmd,struct
zserv*zserv,vrf_id_tvrf_id);voidlabel_manager_init(char*lm_zserv_path);structlab
el_manager_chunk*assign_label_chunk(uint8_tproto,unsignedshortinstance,uint8_tke
ep,uint32_tsize);intrelease_label_chunk(uint8_tproto,unsignedshortinstance,uint3
2_tstart,uint32_tend);intrelease_daemon_label_chunks(uint8_tproto,unsignedshorti
nstance);voidlabel_manager_close(void);#endif/*_LABEL_MANAGER_H*/