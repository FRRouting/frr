/**kernelroutingtableupdateprototype.*Copyright(C)1998KunihiroIshiguro**Thisfile
ispartofGNUZebra.**GNUZebraisfreesoftware;youcanredistributeitand/ormodifyit*und
erthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*FreeSoftwareFoundation;ei
therversion2,or(atyouroption)any*laterversion.**GNUZebraisdistributedinthehopeth
atitwillbeuseful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof*MERCHANT
ABILITYorFITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicenseformoredetai
ls.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthisprogram
;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51FranklinSt,Fif
thFloor,Boston,MA02110-1301USA*/#ifndef_ZEBRA_RT_H#define_ZEBRA_RT_H#include"pre
fix.h"#include"if.h"#include"vlan.h"#include"vxlan.h"#include"zebra/rib.h"#inclu
de"zebra/zebra_ns.h"#include"zebra/zebra_mpls.h"/**PhilosophyNote:**FlagsbeingSE
T/UNSETdonotbelongintheSouthBound*Interface.ThisSettingbelongsatthecallinglevel*
becausewecanandwillhavemultipledifferentinterfaces*andwewillhavepotentiallymulti
pledifferent*modules/filterstocall.AssuchSetting/Unsetting*successfailureshouldb
ehandledbythecaller.*/enumsouthbound_results{SOUTHBOUND_INSTALL_SUCCESS,SOUTHBOU
ND_INSTALL_FAILURE,SOUTHBOUND_DELETE_SUCCESS,SOUTHBOUND_DELETE_FAILURE,};/**Inst
all/deletethespecifiedprefixpfromthekernel**old=NULL,new=pointer-Installnew*old=
pointer,new=pointer-RoutereplaceOldw/New*old=pointer,new=NULL,-RouteDelete**Plea
senotenotallkernelssupportroutereplace*semanticssowewillendupwithadeletethan*are
-add.*/externvoidkernel_route_rib(structroute_node*rn,structprefix*p,structprefi
x*src_p,structroute_entry*old,structroute_entry*new);/**Sorouteinstall/failurema
ynotbeimmediatelyknown*solet'sseparateitoutandallowtheresultto*bepassedbackup.*/
externvoidkernel_route_rib_pass_fail(structroute_node*rn,structprefix*p,structro
ute_entry*re,enumsouthbound_resultsres);externintkernel_address_add_ipv4(structi
nterface*,structconnected*);externintkernel_address_delete_ipv4(structinterface*
,structconnected*);externintkernel_address_add_ipv6(structinterface*,structconne
cted*);externintkernel_address_delete_ipv6(structinterface*,structconnected*);ex
ternintkernel_neigh_update(intcmd,intifindex,uint32_taddr,char*lla,intllalen,ns_
id_tns_id);externintkernel_interface_set_master(structinterface*master,structint
erface*slave);externvoidkernel_add_lsp(zebra_lsp_t*lsp);externvoidkernel_upd_lsp
(zebra_lsp_t*lsp);externvoidkernel_del_lsp(zebra_lsp_t*lsp);/**Addtheabilitytopa
ssbackupthelspinstall/delete*success/failure.**Thisfunctionsgoalissimiliartokern
el_route_rib_pass_fail*inthatweareseparatingoutthemechanicsfor*theinstall/failur
etoset/unsetflagsandtonotify*asneeded.*/externvoidkernel_lsp_pass_fail(zebra_lsp
_t*lsp,enumsouthbound_resultsres);externintmpls_kernel_init(void);externuint32_t
kernel_get_speed(structinterface*ifp);externintkernel_get_ipmr_sg_stats(structze
bra_vrf*zvrf,void*mroute);externintkernel_add_vtep(vni_tvni,structinterface*ifp,
structin_addr*vtep_ip);externintkernel_del_vtep(vni_tvni,structinterface*ifp,str
uctin_addr*vtep_ip);externintkernel_add_mac(structinterface*ifp,vlanid_tvid,stru
ctethaddr*mac,structin_addrvtep_ip,uint8_tsticky);externintkernel_del_mac(struct
interface*ifp,vlanid_tvid,structethaddr*mac,structin_addrvtep_ip,intlocal);exter
nintkernel_add_neigh(structinterface*ifp,structipaddr*ip,structethaddr*mac);exte
rnintkernel_del_neigh(structinterface*ifp,structipaddr*ip);/**SouthboundInitiali
zationroutinestogetinitialstarting*state.*/externvoidinterface_list(structzebra_
ns*zns);externvoidkernel_init(structzebra_ns*zns);externvoidkernel_terminate(str
uctzebra_ns*zns);externvoidmacfdb_read(structzebra_ns*zns);externvoidmacfdb_read
_for_bridge(structzebra_ns*zns,structinterface*ifp,structinterface*br_if);extern
voidneigh_read(structzebra_ns*zns);externvoidneigh_read_for_vlan(structzebra_ns*
zns,structinterface*ifp);externvoidroute_read(structzebra_ns*zns);#endif/*_ZEBRA
_RT_H*/