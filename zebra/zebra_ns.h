/**ZebraNSheader*Copyright(C)2016CumulusNetworks,Inc.*DonaldSharp**Thisfileispar
tofQuagga.**Quaggaisfreesoftware;youcanredistributeitand/ormodifyit*undertheterm
softheGNUGeneralPublicLicenseaspublishedbythe*FreeSoftwareFoundation;eitherversi
on2,or(atyouroption)any*laterversion.**Quaggaisdistributedinthehopethatitwillbeu
seful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof*MERCHANTABILITYorFI
TNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicenseformoredetails.**Yousho
uldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthisprogram;seethefile
COPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51FranklinSt,FifthFloor,Bos
ton,MA02110-1301USA*/#if!defined(__ZEBRA_NS_H__)#define__ZEBRA_NS_H__#include<li
b/ns.h>#include<lib/vrf.h>#ifdefHAVE_NETLINK/*Socketinterfacetokernel*/structnls
ock{intsock;intseq;structsockaddr_nlsnl;charname[64];};#endifstructzebra_ns_tabl
e{RB_ENTRY(zebra_ns_table)zebra_ns_table_entry;uint32_ttableid;afi_tafi;structro
ute_table*table;};RB_HEAD(zebra_ns_table_head,zebra_ns_table);RB_PROTOTYPE(zebra
_ns_table_head,zebra_ns_table,zebra_ns_table_entry,zebra_ns_table_entry_compare)
structzebra_ns{/*net-nsname.*/charname[VRF_NAMSIZ];/*Identifier.*/ns_id_tns_id;#
ifdefHAVE_NETLINKstructnlsocknetlink;/*kernelmessages*/structnlsocknetlink_cmd;/
*commandchannel*/structthread*t_netlink;#endifstructroute_table*if_table;/*L3-VN
Ihashtable(forEVPN).Onlyindefaultinstance*/structhash*l3vni_table;#ifdefined(HAV
E_RTADV)structrtadvrtadv;#endif/*HAVE_RTADV*/structzebra_ns_table_headns_tables;
structhash*rules_hash;/*Backpointer*/structns*ns;};structzebra_ns*zebra_ns_looku
p(ns_id_tns_id);intzebra_ns_init(void);intzebra_ns_enable(ns_id_tns_id,void**inf
o);intzebra_ns_disabled(structns*ns);intzebra_ns_disable(ns_id_tns_id,void**info
);externstructroute_table*zebra_ns_find_table(structzebra_ns*zns,uint32_ttableid
,afi_tafi);externstructroute_table*zebra_ns_get_table(structzebra_ns*zns,structz
ebra_vrf*zvrf,uint32_ttableid,afi_tafi);intzebra_ns_config_write(structvty*vty,s
tructns*ns);unsignedlongzebra_ns_score_proto(uint8_tproto,unsignedshortinstance)
;voidzebra_ns_sweep_route(void);#endif