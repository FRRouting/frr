#include"log.h"#ifdefined(__GNUC__)&&(__GNUC__>=3)#definelikely(_x)__builtin_exp
ect(!!(_x),1)#defineunlikely(_x)__builtin_expect(!!(_x),0)#else#definelikely(_x)
!!(_x)#defineunlikely(_x)!!(_x)#endif#defineNHRP_DEBUG_COMMON(1<<0)#defineNHRP_D
EBUG_KERNEL(1<<1)#defineNHRP_DEBUG_IF(1<<2)#defineNHRP_DEBUG_ROUTE(1<<3)#defineN
HRP_DEBUG_VICI(1<<4)#defineNHRP_DEBUG_EVENT(1<<5)#defineNHRP_DEBUG_ALL(0xFFFF)ex
ternunsignedintdebug_flags;#ifdefined__STDC_VERSION__&&__STDC_VERSION__>=199901L
#definedebugf(level,...)\do{\if(unlikely(debug_flags&level))\zlog_debug(__VA_ARG
S__);\}while(0)#elifdefined__GNUC__#definedebugf(level,_args...)\do{\if(unlikely
(debug_flags&level))\zlog_debug(_args);\}while(0)#elsestaticinlinevoiddebugf(int
level,constchar*format,...){}#endif