#!/bin/bash
# SPDX-License-Identifier: GPL-2.0-or-later
#
# DHCP gateway related functions
# Copyright (C) 2025 VyOS Inc.
# Kyrylo Yatsenko

arg_state='down'
arg_gateway_ip=''
case "${reason}" in
    PREINIT|EXPIRE|FAIL|STOP|RELEASE)
        arg_state=down
        ;;
    BOUND|RENEW|REBIND|REBOOT)
        arg_state=up
        arg_gateway_ip=$new_routers
        ;;
    # NBI TIMEOUT?..
esac

@e_sbindir@/update-dhcp-gw $interface $arg_state $arg_gateway_ip
