/**IS-ISRout(e)ingprotocol-isis_flags.c*RoutinesformanipulationofSSNandSRMflags*
*Copyright(C)2001,2002SampoSaaristo*TampereUniversityofTechnology*InstituteofCom
municationsEngineering**Thisprogramisfreesoftware;youcanredistributeitand/ormodi
fyit*underthetermsoftheGNUGeneralPublicLicenseaspublishedbytheFree*SoftwareFound
ation;eitherversion2oftheLicense,or(atyouroption)*anylaterversion.**Thisprogrami
sdistributedinthehopethatitwillbeuseful,butWITHOUT*ANYWARRANTY;withouteventheimp
liedwarrantyofMERCHANTABILITYor*FITNESSFORAPARTICULARPURPOSE.SeetheGNUGeneralPub
licLicensefor*moredetails.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicen
sealong*withthisprogram;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundatio
n,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-1301USA*/#include<zebra.h>#include
"log.h"#include"linklist.h"#include"isisd/isis_constants.h"#include"isisd/isis_c
ommon.h"#include"isisd/isis_flags.h"voidflags_initialize(structflags*flags){flag
s->maxindex=0;flags->free_idcs=NULL;}longintflags_get_index(structflags*flags){s
tructlistnode*node;longintindex;if(flags->free_idcs==NULL||flags->free_idcs->cou
nt==0){index=flags->maxindex++;}else{node=listhead(flags->free_idcs);index=(long
int)listgetdata(node);listnode_delete(flags->free_idcs,(void*)index);index--;}re
turnindex;}voidflags_free_index(structflags*flags,longintindex){if(index+1==flag
s->maxindex){flags->maxindex--;return;}if(flags->free_idcs==NULL){flags->free_id
cs=list_new();}listnode_add(flags->free_idcs,(void*)(index+1));return;}intflags_
any_set(uint32_t*flags){uint32_tzero[ISIS_MAX_CIRCUITS];memset(zero,0x00,ISIS_MA
X_CIRCUITS*4);returnbcmp(flags,zero,ISIS_MAX_CIRCUITS*4);}