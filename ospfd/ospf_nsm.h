/**OSPFversion2NeighborStateMachine*FromRFC2328[OSPFVersion2]*Copyright(C)1999To
shiakiTakada**ThisfileispartofGNUZebra.**GNUZebraisfreesoftware;youcanredistribu
teitand/ormodifyit*underthetermsoftheGNUGeneralPublicLicenseaspublishedbythe*Fre
eSoftwareFoundation;eitherversion2,or(atyouroption)any*laterversion.**GNUZebrais
distributedinthehopethatitwillbeuseful,but*WITHOUTANYWARRANTY;withouteventheimpl
iedwarrantyof*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPub
licLicenseformoredetails.**YoushouldhavereceivedacopyoftheGNUGeneralPublicLicens
ealong*withthisprogram;seethefileCOPYING;ifnot,writetotheFreeSoftware*Foundation
,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-1301USA*/#ifndef_ZEBRA_OSPF_NSM_H#d
efine_ZEBRA_OSPF_NSM_H#include"hook.h"/*OSPFNeighborStateMachineState.*/#defineN
SM_DependUpon0#defineNSM_Deleted1#defineNSM_Down2#defineNSM_Attempt3#defineNSM_I
nit4#defineNSM_TwoWay5#defineNSM_ExStart6#defineNSM_Exchange7#defineNSM_Loading8
#defineNSM_Full9#defineOSPF_NSM_STATE_MAX10/*OSPFNeighborStateMachineEvent.*/#de
fineNSM_NoEvent0#defineNSM_PacketReceived1/*HelloReceivedintheprotocol*/#defineN
SM_Start2#defineNSM_TwoWayReceived3#defineNSM_NegotiationDone4#defineNSM_Exchang
eDone5#defineNSM_BadLSReq6#defineNSM_LoadingDone7#defineNSM_AdjOK8#defineNSM_Seq
NumberMismatch9#defineNSM_OneWayReceived10#defineNSM_KillNbr11#defineNSM_Inactiv
ityTimer12#defineNSM_LLDown13#defineOSPF_NSM_EVENT_MAX14/*MacroforOSPFNSMtimertu
rnon.*/#defineOSPF_NSM_TIMER_ON(T,F,V)thread_add_timer(master,(F),nbr,(V),&(T))/
*MacroforOSPFNSMtimerturnoff.*/#defineOSPF_NSM_TIMER_OFF(X)\do{\if(X){\thread_ca
ncel(X);\(X)=NULL;\}\}while(0)/*MacroforOSPFNSMscheduleevent.*/#defineOSPF_NSM_E
VENT_SCHEDULE(N,E)\thread_add_event(master,ospf_nsm_event,(N),(E),NULL)/*Macrofo
rOSPFNSMexecuteevent.*/#defineOSPF_NSM_EVENT_EXECUTE(N,E)\thread_execute(master,
ospf_nsm_event,(N),(E))/*Prototypes.*/externintospf_nsm_event(structthread*);ext
ernvoidospf_check_nbr_loading(structospf_neighbor*);externintospf_db_summary_ise
mpty(structospf_neighbor*);externintospf_db_summary_count(structospf_neighbor*);
externvoidospf_db_summary_clear(structospf_neighbor*);DECLARE_HOOK(ospf_nsm_chan
ge,(structospf_neighbor*on,intstate,intoldstate),(on,state,oldstate))#endif/*_ZE
BRA_OSPF_NSM_H*/