/**ClientsideofOSPFAPI.*Copyright(C)2001,2002,2003RalphKeller**ThisfileispartofG
NUZebra.**GNUZebraisfreesoftware;youcanredistributeitand/ormodify*itundertheterm
softheGNUGeneralPublicLicenseaspublished*bytheFreeSoftwareFoundation;eitherversi
on2,or(atyour*option)anylaterversion.**GNUZebraisdistributedinthehopethatitwillb
euseful,but*WITHOUTANYWARRANTY;withouteventheimpliedwarrantyof*MERCHANTABILITYor
FITNESSFORAPARTICULARPURPOSE.SeetheGNU*GeneralPublicLicenseformoredetails.**Yous
houldhavereceivedacopyoftheGNUGeneralPublicLicensealong*withthisprogram;seethefi
leCOPYING;ifnot,writetotheFreeSoftware*Foundation,Inc.,51FranklinSt,FifthFloor,B
oston,MA02110-1301USA*/#ifndef_OSPF_APICLIENT_H#define_OSPF_APICLIENT_H/*Structu
refortheOSPFAPIclient*/structospf_apiclient{/*Socketsforsyncrequestsandasyncnoti
fications*/intfd_sync;intfd_async;/*Pointertocallbackfunctions*/void(*ready_noti
fy)(uint8_tlsa_type,uint8_topaque_type,structin_addraddr);void(*new_if)(structin
_addrifaddr,structin_addrarea_id);void(*del_if)(structin_addrifaddr);void(*ism_c
hange)(structin_addrifaddr,structin_addrarea_id,uint8_tstatus);void(*nsm_change)
(structin_addrifaddr,structin_addrnbraddr,structin_addrrouter_id,uint8_tstatus);
void(*update_notify)(structin_addrifaddr,structin_addrarea_id,uint8_tself_origin
,structlsa_header*lsa);void(*delete_notify)(structin_addrifaddr,structin_addrare
a_id,uint8_tself_origin,structlsa_header*lsa);};/*------------------------------
---------------------------*APIfunctionprototypes.*-----------------------------
----------------------------*//*OpenconnectiontoOSPFdaemon.Twoportswillbeallocat
edonclient,syncchannelatsyncportandreversechannelatsyncport+1*/structospf_apicli
ent*ospf_apiclient_connect(char*host,intsyncport);/*ShutdownconnectiontoOSPFdaem
on.*/intospf_apiclient_close(structospf_apiclient*oclient);/*Synchronousrequestt
oregisteropaquetype.*/intospf_apiclient_register_opaque_type(structospf_apiclien
t*oclient,uint8_tltype,uint8_totype);/*Synchronousrequesttoregistereventmask.*/i
ntospf_apiclient_register_events(structospf_apiclient*oclient,uint32_tmask);/*Re
gistercallbackfunctions.*/voidospf_apiclient_register_callback(structospf_apicli
ent*oclient,void(*ready_notify)(uint8_tlsa_type,uint8_topaque_type,structin_addr
addr),void(*new_if)(structin_addrifaddr,structin_addrarea_id),void(*del_if)(stru
ctin_addrifaddr),void(*ism_change)(structin_addrifaddr,structin_addrarea_id,uint
8_tstatus),void(*nsm_change)(structin_addrifaddr,structin_addrnbraddr,structin_a
ddrrouter_id,uint8_tstatus),void(*update_notify)(structin_addrifaddr,structin_ad
drarea_id,uint8_tselforig,structlsa_header*lsa),void(*delete_notify)(structin_ad
drifaddr,structin_addrarea_id,uint8_tselforig,structlsa_header*lsa));/*Synchrono
usrequesttosynchronizeLSDB.*/intospf_apiclient_sync_lsdb(structospf_apiclient*oc
lient);/*SynchronousrequesttooriginateorupdateopaqueLSA.*/intospf_apiclient_lsa_
originate(structospf_apiclient*oclient,structin_addrifaddr,structin_addrarea_id,
uint8_tlsa_type,uint8_topaque_type,uint32_topaque_id,void*opaquedata,intopaquele
n);/*SynchronousrequesttodeleteopaqueLSA.Parameteropaque_idisinhostbyteorder*/in
tospf_apiclient_lsa_delete(structospf_apiclient*oclient,structin_addrarea_id,uin
t8_tlsa_type,uint8_topaque_type,uint32_topaque_id);/*Fetchasyncmessageandhandlei
t*/intospf_apiclient_handle_async(structospf_apiclient*oclient);#endif/*_OSPF_AP
ICLIENT_H*/