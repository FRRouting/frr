/**PIMforQuagga*Copyright(C)2008EvertondaSilvaMarques**Thisprogramisfreesoftware
;youcanredistributeitand/ormodify*itunderthetermsoftheGNUGeneralPublicLicenseasp
ublishedby*theFreeSoftwareFoundation;eitherversion2oftheLicense,or*(atyouroption
)anylaterversion.**Thisprogramisdistributedinthehopethatitwillbeuseful,but*WITHO
UTANYWARRANTY;withouteventheimpliedwarrantyof*MERCHANTABILITYorFITNESSFORAPARTIC
ULARPURPOSE.SeetheGNU*GeneralPublicLicenseformoredetails.**Youshouldhavereceived
acopyoftheGNUGeneralPublicLicensealong*withthisprogram;seethefileCOPYING;ifnot,w
ritetotheFreeSoftware*Foundation,Inc.,51FranklinSt,FifthFloor,Boston,MA02110-130
1USA*/#ifndefPIM_NEIGHBOR_H#definePIM_NEIGHBOR_H#include<zebra.h>#include"if.h"#
include"linklist.h"#include"prefix.h"#include"pim_tlv.h"structpim_neighbor{int64
_tcreation;/*timestampofcreation*/structin_addrsource_addr;pim_hello_optionshell
o_options;uint16_tholdtime;uint16_tpropagation_delay_msec;uint16_toverride_inter
val_msec;uint32_tdr_priority;uint32_tgeneration_id;structlist*prefix_list;/*list
ofstructprefix*/structthread*t_expire_timer;structinterface*interface;structthre
ad*jp_timer;structlist*upstream_jp_agg;structbfd_info*bfd_info;};voidpim_neighbo
r_timer_reset(structpim_neighbor*neigh,uint16_tholdtime);voidpim_neighbor_free(s
tructpim_neighbor*neigh);structpim_neighbor*pim_neighbor_find(structinterface*if
p,structin_addrsource_addr);structpim_neighbor*pim_neighbor_find_by_secondary(st
ructinterface*ifp,structprefix*src);structpim_neighbor*pim_neighbor_find_if(stru
ctinterface*ifp);#definePIM_NEIGHBOR_SEND_DELAY0#definePIM_NEIGHBOR_SEND_NOW1str
uctpim_neighbor*pim_neighbor_add(structinterface*ifp,structin_addrsource_addr,pi
m_hello_optionshello_options,uint16_tholdtime,uint16_tpropagation_delay,uint16_t
override_interval,uint32_tdr_priority,uint32_tgeneration_id,structlist*addr_list
,intsend_hello_now);voidpim_neighbor_delete(structinterface*ifp,structpim_neighb
or*neigh,constchar*delete_message);voidpim_neighbor_delete_all(structinterface*i
fp,constchar*delete_message);voidpim_neighbor_update(structpim_neighbor*neigh,pi
m_hello_optionshello_options,uint16_tholdtime,uint32_tdr_priority,structlist*add
r_list);structprefix*pim_neighbor_find_secondary(structpim_neighbor*neigh,struct
prefix*addr);intpim_if_dr_election(structinterface*ifp);#endif/*PIM_NEIGHBOR_H*/
